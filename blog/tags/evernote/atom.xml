<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: Evernote | rcmdnk's blog]]></title>
  <link href="http://rcmdnk.github.io/blog/tags/evernote/atom.xml" rel="self"/>
  <link href="http://rcmdnk.github.io/"/>
  <updated>2013-09-01T22:59:55+02:00</updated>
  <id>http://rcmdnk.github.io/</id>
  <author>
    <name><![CDATA[rcmdnk]]></name>
    <email><![CDATA[rdmdnk@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[コマンドラインからEvernoteへ送るスクリプト]]></title>
    <link href="http://rcmdnk.github.io/blog/2013/05/23/computer-evernote/"/>
    <updated>2013-05-23T12:12:00+02:00</updated>
    <id>http://rcmdnk.github.io/blog/2013/05/23/computer-evernote</id>
    <content type="html"><![CDATA[<p>メモを取ることが出来るウェブサービスは沢山出来てきましたが、
なんだかんだでEvernoteが一番安定して使いやすいので
メインのメモ帳となっています。</p>

<p>ターミナルで作業している時に、たまにちょっとしたメモとか
一次的に作ったスクリプトとか、どうしても、では無いけど
もしかしたら後で見れたら便利かな、という様なものが出てきた時、
さくっとEvernoteに送れたら便利だと思ったので
そんなスクリプトを書いてみました。</p>

<!-- more -->


<p><br class="clearBoth">

<h1>Contents</h1>
{:TOC}

<script type="text/javascript"><!--
google_ad_client = "ca-pub-3802317723662375";
/* imgRectMid */
google_ad_slot = "9043394444";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




</p>

<h1 id="Evernote">Evernote</h1>

<p><a href="http://click.linksynergy.com/fs-bin/stat?id=iYVkHjWpfxk&offerid=94348&type=3&subid=0&tmpid=2192&RD_PARM1=https%253A%252F%252Fitunes.apple.com%252Fjp%252Fapp%252Fevernote%252Fid406056744%253Fmt%253D12%2526uo%253D4%2526partnerId%253D30" target="_blank" rel="nofollow"><img width="75" class="alignleft" align="left" src="http://a4.mzstatic.com/us/r1000/110/Purple2/v4/40/5c/55/405c559c-2dd1-0688-3c33-65f36b1e9aaf/Evernote.75x75-65.png" style="border-radius: 11px 11px 11px 11px;-moz-border-radius: 11px 11px 11px 11px;-webkit-border-radius: 11px 11px 11px 11px;box-shadow: 1px 4px 6px 1px #999999;-moz-box-shadow: 1px 4px 6px 1px #999999;-webkit-box-shadow: 1px 4px 6px 1px #999999;margin: -5px 15px 1px 5px;"></a><div style="font-size:small;line-height:1.2;"><a href="http://click.linksynergy.com/fs-bin/stat?id=iYVkHjWpfxk&offerid=94348&type=3&subid=0&tmpid=2192&RD_PARM1=https%253A%252F%252Fitunes.apple.com%252Fjp%252Fapp%252Fevernote%252Fid406056744%253Fmt%253D12%2526uo%253D4%2526partnerId%253D30" target="_blank" rel="nofollow"<strong> Evernote 5.0.6（無料）</strong></a><br> カテゴリ: 仕事効率化<br> 販売元: <a href="http://click.linksynergy.com/fs-bin/stat?id=iYVkHjWpfxk&offerid=94348&type=3&subid=0&tmpid=2192&RD_PARM1=https%253A%252F%252Fitunes.apple.com%252Fjp%252Fartist%252Fevernote%252Fid281796111%253Fmt%253D12%2526uo%253D4%2526partnerId%253D30" target="_blank" rel="nofollow">Evernote - Evernote</a>（サイズ: 32.3 MB）</div><br class="clearBoth"></p>

<p>今更説明不要かもしれませんが、<a href="https://evernote.com/intl/jp/">Evernote</a>は
"すべてを記憶する"と題打っているようにテキストは勿論、
画像や音声、動画等も記憶させておくことが出来、
後から編集も簡単に出来ます。</p>

<p>Webクリップなんかも簡単に出来るアドオンがあって、<sup id='fnref:1'><a href='#fn:1' rel='footnote'>1</a></sup>
気になるページを簡単にメモしておくことが出来、
後から検索するにもEvernote内で探せば自分が必要だと思ったものからのみ
検索出来て便利です。</p>

<p>後、地味に便利なのがOCR機能で、適当な写真や画像を入れておいて、
その中に文字が入っていると検索でひっかかる様になるので、
ちょっと目の前の物をメモしたいときに取り敢えずiPhoneとかで写真を取って
Evernoteに送っておけば、後からも簡単に検索出来て便利です。
この機能を最大限使っているのが名刺の管理で、カメラで取ったりこんなスキャナ:</p>

<table  border="0" cellpadding="5" style="border:none"><tr><td style="border:none;text-align:left"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B004COKSSE/rcmdnk0c-22/ref=nosim/" rel="nofollow" target="_blank" target="_top">FUJITSU ScanSnap S1100 FI-S1100</a></td></tr><tr><td style="border:none"><table  border="0" cellpadding="0" style="border:none"><tr><td valign="top" style="border:none"><a href="http://www.amazon.co.jp/exec/obidos/ASIN/B004COKSSE/rcmdnk0c-22/ref=nosim/" rel="nofollow" target="_blank" target="_top"><img src="http://ecx.images-amazon.com/images/I/31JmkRNwXCL._SL160_.jpg" border="0" style="margin-right:10px" /></a></td><td valign="top" style="border:none;text-align:left"><div class="kaerebalink-detail" style="margin-bottom:5px;"> 富士通 2010-11-22</div><div class="kaerebalink-salesranking" style="margin-bottom:5px">売り上げランキング : 907</div><table style="border:none;margin-top:10px"><tr><td style="border:none;text-align:left;"><div class="shoplinkamazon" style="margin-right:5px"><a href="http://www.amazon.co.jp/gp/search?keywords=S1100%20FI-S1100&__mk_ja_JP=%83J%83%5E%83J%83i&tag=rcmdnk0c-22" rel="nofollow" target="_blank" title="アマゾン" >Amazonで見る</a></div><div class="shoplinkrakuten" style="margin-right:5px"><a href="http://hb.afl.rakuten.co.jp/hgc/111f634c.5fb25e94.111f634d.1a56ae16/?pc=http%3A%2F%2Fsearch.rakuten.co.jp%2Fsearch%2Fmall%2FS1100%2520FI-S1100%2F-%2Ff.1-p.1-s.1-sf.0-st.A-v.2%3Fx%3D0%26scid%3Daf_ich_link_urltxt%26m%3Dhttp%3A%2F%2Fm.rakuten.co.jp%2F" rel="nofollow" target="_blank" title="楽天市場" >楽天市場で見る</a></div></td><td style="vertical-align:bottom;padding-left:10px;font-size:x-small;border:none">by <a href="http://kaereba.com" target="_blank">カエレバ</a></td></tr></table></font></td></tr></table></td></tr></table>


<p>を使ったりしてEvernoteへ突っ込んでおくと簡単に名刺が管理出来るし、
後から検索も簡単です。</p>

<p>Webからは勿論、Window/Mac/iPhone/Android...それぞれ用のソフトも
あるのでどこからでも編集できるのですが、
携帯端末だと基本的にはオフラインにノートが保存されません。</p>

<p>ただ、有料のプレミアム会員なら各ノートブック毎オフラインに保存出来る機能があり、
無料でもお気に入り機能を使うと各ノート毎にオフラインにとっておくことが
出来る様です。<sup id='fnref:2'><a href='#fn:2' rel='footnote'>2</a></sup></p>

<h1 id="evernote.sh">evernote.sh</h1>

<h2 id="スクリプト">スクリプト</h2>

<p>前置きが長くなりましたが、Evernoteへノートをコマンドラインから送るスクリプト
の紹介です。</p>

<p>こんな感じ:
<div><script src='https://gist.github.com/5636525.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>

<p>やってることは簡単で、単に<code>mail</code>コマンドでEvernoteへの登録用メールアドレスにメールを
送っているだけです。</p>

<h2 id="使い方">使い方</h2>

<p>まず、メールを送るために<code>mail</code>コマンドでメールを送れる様になっていないといけません。
<a href="#mail">下にMac(Lion)で自分でやった設定</a>について載せておきますので、
必要であれば設定して下さい。</p>

<p>メールの設定が済んだら自分のEvernoteのアカウントでノートを送る用のメールアドレス
を調べます。
Webなら<code>設定</code><i class="icon-arrow-right"></i><code>アカウントの概要</code>に、
Macのアプリなら<code>アカウント情報</code>に書いてあります。
(<code>username.XXX.m.evernote.com</code>の様なアドレスです。)</p>

<p>次にホームディレクトリに</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>.evernote </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ADDRESS=username.XXX@m.evernote.com
</span><span class='line'>ADDRESSOTHER=AAA@BBB.CCC</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>と言った内容の<code>.evernote</code>と言うファイルを作ります。
<code>ADDRESS</code>は先程調べたEvernoteのアドレス、
<code>ADDRESSOTHER</code>の方は必須ではないですが、
メール送信を確認するために送る適当な自分のアドレスなので
必要であれば設定して下さい。
これらのアドレスはスクリプトの引数でも設定出来ます。</p>

<p>出来る事は</p>

<ul>
<li>メモしたいことをそのまま送る</li>
<li>ファイルの内容をテキストとして送る</li>
<li>ファイルそのものを添付して送る</li>
</ul>


<p>と言った感じで、以下のオプションを使って送ります</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Usage: evernote.sh [-uh] [-f &lt;input file>] [-a &lt;email address>]&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>            [-o &lt;other mail address&gt;] [-t &lt;title&gt;] [-T &lt;tag&gt;]
</span><span class='line'>            [-n &lt;notebook&gt;] message...
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>Arguments:&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>  -u  ファイルを添付ファイルとして送る
</span><span class='line'>      (このオプションを指定しないとファイルの内容がテキストで送られる)
</span><span class='line'>  -f  送りたいファイルの指定(メモだけ送りたい時は指定しなくてもOK)
</span><span class='line'>  -a  Evernoteアドレスを設定(.evernoteで指定してないとき、別のノートに送りたいとき)
</span><span class='line'>  -o  確認用メールアドレスの設定(同上)
</span><span class='line'>  -t  ノートのタイトル (default: By email またはファイルの指定がある時はファイル名)
</span><span class='line'>  -T　タグの指定(defaultで"email"タグは常に付く。
</span><span class='line'>      複数のタグを指定する時は'-T "#tag1 #tag2 #tag3"'と言った感じで
</span><span class='line'>      #をそれぞれに付けて指定。
</span><span class='line'>  -n  ノートブックの指定
</span><span class='line'>  -h  ヘルプの表示
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p> message  以降の引数以外の部分はノートの内容となる</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>注意として、Evernoteでは無料会員だと1日50通まで、
プレミアムでも250通までしかメールで送れないので、
ひと月の容量制限を超えなくても1日に大量のメールは送れません。</p>

<p>最初にスクリプトを作った時片っ端から設定ファイルなどを送っていたら
何故か途中から送れなくなって困ったので、一応。</p>

<div id="mail"></div>


<h2 id="Macでmailコマンドを使う">Macでmailコマンドを使う</h2>

<p>簡単なのはGmailのSMTPサーバーを経由して送る方法です。
他のSMTPサーバーを使いたい場合は適宣変更して下さい。</p>

<p>まず、認証ファイルを作るために
<code>/etc/postfix/</code>へ<code>gmail_passwd</code>と言うファイルを以下の様な内容で作ります。
(以下の作業はrootで)</p>

<pre><code>smtp.gmail.com:587 user@gmail.com:password
</code></pre>

<p><code>user</code>と<code>password</code>を自分のものにして下さい。</p>

<p>次に、ここからデータベースファイルを次の様にして作ります。</p>

<pre><code>$ postmap /etc/postfix/gmail_passwd
</code></pre>

<p><code>gmail_passwd.db</code>と言うファイルが作成されたのを確認したら
元のパスワードがそのまま書かれている<code>gmail_passwd</code>は削除して下さい。</p>

<p>次に、<code>/etc/postfix/main.cf</code>に次のような設定を追加します。</p>

<pre><code>#Relay host
relayhost = smtp.gmail.com:587

#SASL authentication
smtp_sasl_auth_enable = yes
smtp_sasl_password_maps = hash:/etc/postfix/gmail_passwd
smtp_sasl_security_options = noanonymous

#TLS setting
smtp_use_tls = yes
smtp_tls_security_level = encrypt
tls_random_source = dev:/dev/urandom
</code></pre>

<p>設定が終わったら</p>

<pre><code>$ postfix reload
</code></pre>

<p>で設定を反映させます。</p>

<h1 id="まとめ">まとめ</h1>

<p>Evernoteは様々なアプリなんかからも直接送れる様になってますし、
<a href="https://ifttt.com/">IFTTT</a>を使えば、
殆どの環境から簡単にノートに入れていく事が出来るようになります。</p>

<p>一方でノートを公開する方法も単に共有、として公開URLを送る公式の方法以外にも、
<a href="http://everwiki.ogaoga.org/">EverWiki</a>といったものや
<a href="http://postach.io/">Postach.io</a>と言ったEvernoteのノートをそのままブログ
にしてしまうサービスも出て来ています。</p>

<p>探してみると思った以上に色々な物がありました。</p>

<p>Evernote自体も進化しているようで、丁度今日アップデートがあったみたいで、
<code>リマインダー機能</code>が追加されたようです。<sup id='fnref:3'><a href='#fn:3' rel='footnote'>3</a></sup>
アプリをアップデートすると今までの情報を表示したりする右上のボタン群に
時計が追加されていて、指定日に知らせを出してくれるようです。
デフォルトではメールにもその日の午前中に送ってくれるようになっています。</p>

<p>まだ、日付だけで、時間帯指定とかまでは出来ないみたいですが、
メモとスケジューリングが一緒に出来て便利だと思うので、
よく使われる様になったら要望が出て時間帯指定まですぐ出来るようにしてくれるんじゃないかな?と期待しています。</p>

<hr />

<p><div class="footnotes">
	<ol>
		<li id='fn:1'><p> <a href="https://evernote.com/intl/jp/webclipper/">Evernote Webクリッパー</a>と
  <a href="https://evernote.com/intl/jp/clearly/">Clearly</a>と言う2つのアドオンがあります。
  Webクリッパーの方はページの記事の部分のみ、全体、リンクのみ、と言った形で
  選択的にクリップ出来ます。ページの一部を選択して選択部分のみを
  クリップすることも可能です。
  Clearlyの方はページを記事部分を中心に読みやすくして余計な情報を落とした状態に
  変換してくれてから登録出来る様になります。
  基本的にはWebクリップで記事のみ、の選択でためしてみて、上手く行かないときは
  Clearlyを使う、と言った感じで使っています。
  それでも上手く行かないようなときはもう一度Webクリッパーに戻って
  自分で選択してみるか、ページ全体をクリップしてしまったりしています。
  <a href='#fnref:1' rev='footnote'>↩</a></p>
</li><li id='fn:2'><p> 以前、iPod touchで使ってた時にお気に入りに入れてもキャッシュが
  残ってるだけで、他で容量を使うと消えてしまって結局オフラインで見れなくなる、
  と言った気がしたんですが、今使っているiPhoneだとお気に入りに入れておいた
  物がオフラインで見れなくなることはなくなりました。
  公式ページにその辺の事書いてなくて、英語の公式ページでも探してもその辺
  ちゃんと記述してある所が無かったのですが、<a href="https://twitter.com/EvernoteJP/status/273704437837615104">Evernote Japanの公式Twitterがオフラインでも見れるよ、というAppBankの記事をツイートしてる</a>(何故わざわざ外の記事をツイートしてるかがちょっとあれですが...)
  ので少なくとも今はそういう機能になっているんだと思います。
  <a href='#fnref:2' rev='footnote'>↩</a></p>
</li><li id='fn:3'><p> <a href="http://www.cultofmac.com/228517/evernote-reminders-now-available-on-mac-ios-the-web/">Evernote Reminders Now Available On Mac, iOS &amp; The Web</a>
<a href='#fnref:3' rev='footnote'>↩</a></p>
</li>
	</ol>
</div>
</p>
]]></content>
  </entry>
  
</feed>
