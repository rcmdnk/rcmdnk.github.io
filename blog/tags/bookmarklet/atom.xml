<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: Bookmarklet | rcmdnk's blog]]></title>
  <link href="https://rcmdnk.com/blog/tags/bookmarklet/atom.xml" rel="self"/>
  <link href="https://rcmdnk.com/"/>
  <updated>2020-08-09T10:06:03+00:00</updated>
  <id>https://rcmdnk.com/</id>
  <author>
    <name><![CDATA[rcmdnk]]></name>
    <email><![CDATA[rcmdnk@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[表示中のページ関連ツイートを開くブックマークレット]]></title>
    <link href="https://rcmdnk.com/blog/2014/02/17/blog-2/"/>
    <updated>2014-02-17T13:00:00+00:00</updated>
    <id>https://rcmdnk.com/blog/2014/02/17/blog-2</id>
    <content type="html"><![CDATA[<div class="amazon-img">
  <a href="//www.amazon.co.jp/gp/product/1405274743?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN=1405274743&amp;linkCode=shr&amp;tag=rcmdnk0c-22" rel="nofollow" target="_blank"><img src="https://images-na.ssl-images-amazon.com/images/I/41WPUP1O3uL._SS200_.jpg" alt="Mr. Topsy-Turvy (Mr. Men Classic Library)" /></a>
</div>

<p><a href="https://rcmdnk.com/blog/2014/02/17/blog/">前回</a>は表示中のはてなブックマーク情報を
表示するブックマークレットでしたが、今回は引き続き
Twitter情報について。</p>

<!-- more -->

<ul id="markdown-toc">
  <li><a href="#twitterのページへの言及を表示するブックマークレット" id="markdown-toc-twitterのページへの言及を表示するブックマークレット">Twitterのページへの言及を表示するブックマークレット</a></li>
</ul>
<div class="group"></div>

<div class="center_wrapper">
  <div>
  <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3802317723662375" data-ad-slot="5762198341"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  </div>
</div>

<h2 id="twitterのページへの言及を表示するブックマークレット">Twitterのページへの言及を表示するブックマークレット</h2>

<p>こんな感じ。</p>

<figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span></span><span class="nx">javascript</span><span class="o">:</span><span class="k">void</span> <span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">&#39;http://topsy.com/trackback?url=&#39;</span><span class="o">+</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>

<p>表示には<a href="http://topsy.com/">topsy</a>が便利なのでこれを使います。</p>

<p>topsyで関連ツイートを表示したい場合は
<code>http://topsy.com/trackback?url=</code>に引き続いてURLを入れればOK。
後ははてなブックマークの場合と一緒。</p>

<p><a href="javascript:void%20window.open('http://topsy.com/trackback?url='+location.href);">Topsyで開く</a></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[表示中のページのはてなブックマークページを開くブックマークレット]]></title>
    <link href="https://rcmdnk.com/blog/2014/02/17/blog/"/>
    <updated>2014-02-17T12:00:00+00:00</updated>
    <id>https://rcmdnk.com/blog/2014/02/17/blog</id>
    <content type="html"><![CDATA[<div class="amazon-img">
  <a href="//www.amazon.co.jp/gp/product/B005J84V6M?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN=B005J84V6M&amp;linkCode=shr&amp;tag=rcmdnk0c-22" rel="nofollow" target="_blank"><img src="https://images-na.ssl-images-amazon.com/images/I/41s5yxr5thL._SS200_.jpg" alt="スーパーマリオ ハテナブロック 小物入れ" /></a>
</div>

<p>はてなブックマークの新着エントリーとかをRSSで取ってきてFeedly
から開いたりするんですが、
大体パソコンで読むときはある程度の数をFeedlyで別タブで開いてから
読み出します。
そうすると、はてなブックマークのボタンが無いページだと、
コメントとか見るにちょっと面倒です。
ということでブックマークレットを使ってどのページでも
はてなブックマークを表示する方法。</p>

<!-- more -->

<ul id="markdown-toc">
  <li><a href="#はてなブックマーク用ブックマークレット" id="markdown-toc-はてなブックマーク用ブックマークレット">はてなブックマーク用ブックマークレット</a></li>
</ul>
<div class="group"></div>

<div class="center_wrapper">
  <div>
  <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3802317723662375" data-ad-slot="5762198341"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  </div>
</div>

<h2 id="はてなブックマーク用ブックマークレット">はてなブックマーク用ブックマークレット</h2>

<p>こんな感じ。</p>

<figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span></span><span class="nx">javascript</span><span class="o">:</span><span class="k">void</span> <span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">&#39;http://b.hatena.ne.jp/entry/&#39;</span><span class="o">+</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>

<p>単に現在のページに<code>http://b.hatena.ne.jp/entry/</code>を付け足して
新しいページで開いているだけです。</p>

<p>ここでは関数を無名関数で囲ったりしないでそのまま書いてるので、
現在のページに下手に返り値を返さないために<code>void</code>を返す関数にします。
(voidを外すと現在のページが<code>[object Window]</code>と言う文言(つまり関数の返り値)
だけが書かれたページに移動してしまいます。)</p>

<p>ドラッグして登録する様はこちら。</p>

<p><a href="javascript:void%20window.open('http://b.hatena.ne.jp/entry/'+location.href);">はてブ</a></p>

<p><a href="https://rcmdnk.com/blog/2014/02/17/blog-2/">次回</a>はTwitterについてのブックマークレット。</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopressでブログを書く時に便利なブックマークレット]]></title>
    <link href="https://rcmdnk.com/blog/2014/02/14/blog-octopress/"/>
    <updated>2014-02-14T12:00:00+00:00</updated>
    <id>https://rcmdnk.com/blog/2014/02/14/blog-octopress</id>
    <content type="html"><![CDATA[<p>ブログを書いてる時に参考にしたりしたページの
リンクなどを簡単にブログ用に整形して取得するための
ブックマークレットについて整理したのでまとめておきます。</p>

<!-- more -->

<ul id="markdown-toc">
  <li><a href="#ブックマークレット" id="markdown-toc-ブックマークレット">ブックマークレット</a>    <ul>
      <li><a href="#markdown方式でタイトルにリンクを付ける" id="markdown-toc-markdown方式でタイトルにリンクを付ける">Markdown方式で、タイトルにリンクを付ける</a></li>
      <li><a href="#選択範囲をブロッククォートにする" id="markdown-toc-選択範囲をブロッククォートにする">選択範囲をブロッククォートにする</a></li>
      <li><a href="#amazonの画像だけのリンクを作る" id="markdown-toc-amazonの画像だけのリンクを作る">Amazonの画像だけのリンクを作る</a></li>
      <li><a href="#amazonの説明入りリンクを作る" id="markdown-toc-amazonの説明入りリンクを作る">Amazonの説明入りリンクを作る</a></li>
    </ul>
  </li>
  <li><a href="#まとめ" id="markdown-toc-まとめ">まとめ</a></li>
</ul>
<div class="group"></div>

<div class="center_wrapper">
  <div>
  <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3802317723662375" data-ad-slot="5762198341"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  </div>
</div>

<h2 id="ブックマークレット">ブックマークレット</h2>

<div class="postscript">
  <p><strong>追記: 2017/01/10 </strong></p>

  <p>SSL化。</p>

  <p><strong>追記ここまで</strong></p>
</div>

<h3 id="markdown方式でタイトルにリンクを付ける">Markdown方式で、タイトルにリンクを付ける</h3>

<p>ページのタイトルとURLを取ってきてマークダウン方式のリンク(<code>[タイトル](URL)</code>)に当てはめるだけの
ブックマークレットです。</p>

<figure class="code"><figcaption><span>Title with Link</span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span></span><span class="nx">javascript</span><span class="o">:</span><span class="p">(</span>
</span><span class="line">  <span class="kd">function</span><span class="p">(){</span>
</span><span class="line">    <span class="nx">prompt</span><span class="p">(</span><span class="s2">&quot;[title](url)&quot;</span><span class="p">,</span><span class="s2">&quot;[&quot;</span><span class="o">+</span><span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="o">+</span><span class="s2">&quot;](&quot;</span><span class="o">+</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">)</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">)();</span>
</span></code></pre></td></tr></table></div></figure>

<p><code>document.title</code>でページのタイトル、<code>location.href</code>でページのURLを取っています。</p>

<p>これを一行にしてブックマークレット様に書き換えたのが下の<code>Title with Link</code>のリンク。
これをブックマークツールバーにドラッグすれば
使える様になります。</p>

<p><a href="javascript:(function(){prompt(&quot;[title](url)&quot;,&quot;[&quot;+document.title+&quot;](&quot;+location.href+&quot;)&quot;)})();">Title with Link</a></p>

<p>リンクを取りたいページに行ってこのブックマークレットを押せば</p>

<p><img src="https://rcmdnk.com/images/post/20140214_prompt.jpg" alt="prompt" /></p>

<p>こんなかんじでポップアップが出るので枠内の文字列をコピーしてください。
(既に選択されてるので<i class="key">Ctrl</i>-<i class="key">c</i>を押すだけでコピーできます。)</p>

<p>ちなみに、普通のHTMLのリンクにしたければ</p>

<figure class="code"><figcaption><span>Title with Link</span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span></span> <span class="nx">javascript</span><span class="o">:</span><span class="p">(</span>
</span><span class="line">   <span class="kd">function</span><span class="p">(){</span>
</span><span class="line"><span class="o">-</span>    <span class="nx">prompt</span><span class="p">(</span><span class="s2">&quot;[title](url)&quot;</span><span class="p">,</span><span class="s2">&quot;[&quot;</span><span class="o">+</span><span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="o">+</span><span class="s2">&quot;](&quot;</span><span class="o">+</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">)</span>
</span><span class="line"><span class="o">+</span>    <span class="nx">prompt</span><span class="p">(</span><span class="s2">&quot;HTML Link&quot;</span><span class="p">,</span><span class="s2">&quot;&lt;a href=&quot;</span><span class="o">+</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s2">&quot;&gt;&quot;</span><span class="o">+</span><span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="o">+</span><span class="s2">&quot;&lt;/a&gt;&quot;</span><span class="p">)</span>
</span><span class="line">   <span class="p">}</span>
</span><span class="line"><span class="p">)();</span>
</span></code></pre></td></tr></table></div></figure>

<p>と置き換えてあげれば良いだけ<sup id="fninref:1"><a href="#fnin:1" rel="footnote">1</a></sup>。</p>

<p>ポップアップ等を出さずに直接クリップボードへ入れる、ということも出来ないわけでは
無い見たいなんですが、JavaScriptだけで出来るのはInternet Explorerだけで
<sup id="fninref:2"><a href="#fnin:2" rel="footnote">2</a></sup>、</p>

<p>FirefoxやChrome等で行いたい場合にはFlashを経由して、みたいな
トリックを使うと出来るらしいです。
<a href="https://github.com/zeroclipboard/zeroclipboard">ZeroClipboard</a>
や
<a href="https://github.com/mojombo/clippy">Clippy</a>
と言ったFlashを使ったJavaScriptのライブラリも配布されてるので、
これらを導入すればそれなりに出来そうですが、
これらのライブラリはどちらかと言うとサイト側で使う用ですね
<sup id="fninref:3"><a href="#fnin:3" rel="footnote">3</a></sup>。</p>

<h3 id="選択範囲をブロッククォートにする">選択範囲をブロッククォートにする</h3>

<p>こちらはOctopress専用。
選択した部分を取り出して<code>blockquote</code>タグを使った引用を作ります。</p>

<figure class="code"><figcaption><span>Title with Link</span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span></span><span class="nx">javascript</span><span class="o">:</span><span class="p">(</span>
</span><span class="line">  <span class="kd">function</span><span class="p">(){</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">w</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">().</span><span class="nb">document</span><span class="p">;</span>
</span><span class="line">    <span class="nx">w</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
</span><span class="line">    <span class="nx">w</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;TEXTAREA COLS=90 ROWS=20&gt;&lt;blockquote&gt;&lt;p&gt;\n&#39;</span><span class="o">+</span><span class="nb">document</span><span class="p">.</span><span class="nx">getSelection</span><span class="p">()</span><span class="o">+</span><span class="s1">&#39;\n&lt;/p&gt;&lt;footer&gt;&lt;strong&gt;&#39;</span><span class="o">+</span><span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="o">+</span><span class="s1">&#39; &#39;</span><span class="o">+</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s1">&#39;&lt;/strong&gt;&lt;/footer&gt;&lt;/blockquote&gt;&lt;/TEXTAREA&gt;&#39;</span><span class="p">);</span>
</span><span class="line">    <span class="nx">w</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">)();</span>
</span></code></pre></td></tr></table></div></figure>

<p><code>document.getSelection()</code>で現在選択している部分のテキストを取っています。</p>

<p>書き出す部分が複数行になるので、このブックマークレットを使うと
ポップアップではなくて新しいWindowを開いてそこにコードが表示されます。</p>

<p>ドラッグして登録する用のリンクはこちら。</p>

<p><a href="javascript:(function(){var%20w=window.open().document;w.open();w.write('&lt;TEXTAREA%20COLS=90%20ROWS=20&gt;&lt;blockquote&gt;&lt;p&gt;\n'+document.getSelection()+'\n&lt;/p&gt;&lt;footer&gt;&lt;strong&gt;%20'+document.title+'%20'+location.href+'&lt;/strong&gt;&lt;/footer&gt;&lt;/blockquote&gt;&lt;/TEXTAREA&gt;');w.close();})();">Block Quote</a></p>

<div class="postscript">
  <p><strong>追記: 2014/02/14</strong></p>

  <p>すいません、上のコードとブックマークレットともに<code>raw</code>タグで囲うのを忘れてたため
表示されてるコードもドラッグ用のリンクも共にすでに
<code>{%blockquote%}~</code>というタグから<code>&lt;blockquote&gt;...</code>と変換されてました。</p>

  <p>ただ、普通に<code>blockquote</code>タグをhtmlで使うにも便利かもしれないので残しておきます。
改行とか少し手を加えた方が良いかもしれませんが。</p>

  <p>正しいOctopress用のコードとドラッグ用リンクは以下です。</p>

  <figure class="code"><figcaption><span>Title with Link</span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span></span><span class="nx">javascript</span><span class="o">:</span><span class="p">(</span>
</span><span class="line">  <span class="kd">function</span><span class="p">(){</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">w</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">().</span><span class="nb">document</span><span class="p">;</span>
</span><span class="line">    <span class="nx">w</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
</span><span class="line">    <span class="nx">w</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="s1">&#39;&lt;TEXTAREA COLS=90 ROWS=20&gt;{%blockquote &#39;</span><span class="o">+</span><span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="o">+</span><span class="s1">&#39; &#39;</span><span class="o">+</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="o">+</span><span class="s1">&#39;%}\n&#39;</span><span class="o">+</span><span class="nb">document</span><span class="p">.</span><span class="nx">getSelection</span><span class="p">()</span><span class="o">+</span><span class="s1">&#39;\n{%endblockquote%}&lt;/TEXTAREA&gt;&#39;</span><span class="p">);</span>
</span><span class="line">    <span class="nx">w</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">)();</span>
</span></code></pre></td></tr></table></div></figure>

  <p><a href="javascript:(function(){var%20w=window.open().document;w.open();w.write('&lt;TEXTAREA%20COLS=90%20ROWS=20&gt;{%blockquote%20'+document.title+'%20'+location.href+'%}\n'+document.getSelection()+'\n{%endblockquote%}&lt;/TEXTAREA&gt;');w.close();})();">Block Quote</a></p>

  <p><strong>追記ここまで</strong></p>
</div>

<p>こんな感じのコードが取れます。</p>

<figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">{%blockquote multi_clipboad/sd_cl/trashのアップデート - rcmdnk's blog https://rcmdnk.github.io/blog/2014/02/02/computer-bash-zsh/%}
</span><span class="line">sentakuと言うスクリプトを作って 自分なりに便利になったと思うので、 同じ様な機能を持つ物たちをまとめました。
</span><span class="line">{%endblockquote%}</span></code></pre></td></tr></table></div></figure>

<p>出力はこんな感じ。</p>

<blockquote><p>sentakuと言うスクリプトを作って 自分なりに便利になったと思うので、 同じ様な機能を持つ物たちをまとめました。</p><footer><strong>multi_clipboad/sd_cl/trashのアップデート - rcmdnk's blog</strong> <cite><a href="https://rcmdnk.github.io/blog/2014/02/02/computer-bash-zsh/">rcmdnk.github.io/blog/2014/02/&hellip;</a></cite></footer></blockquote>

<h3 id="amazonの画像だけのリンクを作る">Amazonの画像だけのリンクを作る</h3>

<p>たまに適当な画像がないときに良くページのトップ画像に使ってるもの。
Amazonの適当なページで使うと縦横最大200pxの画像だけのリンクを作ってくれます。</p>

<figure class="code"><figcaption><span>Amazon Image</span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span></span><span class="nx">javascript</span><span class="o">:</span><span class="p">(</span>
</span><span class="line">  <span class="kd">function</span><span class="p">(){</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">id</span><span class="o">=</span><span class="s2">&quot;rcmdnk0c-22&quot;</span><span class="p">;</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">x</span><span class="o">=</span><span class="s2">&quot;200&quot;</span><span class="p">;</span>
</span><span class="line">    <span class="k">if</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;ASIN&#39;</span><span class="p">)){</span>
</span><span class="line">      <span class="kd">var</span> <span class="nx">asin</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;ASIN&#39;</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span><span class="line">      <span class="kd">var</span> <span class="nx">aa</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;link[rel=&quot;canonical&quot;]&#39;</span><span class="p">).</span><span class="nx">href</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span>
</span><span class="line">      <span class="kd">var</span> <span class="nx">asin</span><span class="o">=</span><span class="nx">aa</span><span class="p">[</span><span class="nx">aa</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="s1">&#39;https://www.amazon.co.jp/o/ASIN/&#39;</span><span class="o">+</span><span class="nx">asin</span><span class="o">+</span><span class="s1">&#39;/&#39;</span><span class="o">+</span><span class="nx">id</span><span class="p">;</span>
</span><span class="line">    <span class="k">if</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;prodImage&#39;</span><span class="p">)){</span>
</span><span class="line">      <span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;prodImage&#39;</span><span class="p">).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">);</span>
</span><span class="line">    <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;main-image&#39;</span><span class="p">){</span>
</span><span class="line">      <span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;main-image&#39;</span><span class="p">).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">);</span>
</span><span class="line">    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span><span class="line">      <span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;landingImage&#39;</span><span class="p">).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">);</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/http.*\/I\/([^\.]+).*$/</span><span class="p">,</span><span class="s1">&#39;$1&#39;</span><span class="p">);</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(http.*com).*/</span><span class="p">,</span><span class="s1">&#39;$1/images/I/&#39;</span><span class="p">);</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="o">+</span><span class="nx">p</span><span class="o">+</span><span class="s1">&#39;._SS&#39;</span><span class="o">+</span><span class="nx">x</span><span class="o">+</span><span class="s1">&#39;_.jpg&#39;</span><span class="p">;</span>
</span><span class="line">    <span class="k">if</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;btAsinTitle&#39;</span><span class="p">)){</span>
</span><span class="line">      <span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;btAsinTitle&#39;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span><span class="k">else</span>
</span><span class="line">      <span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;productTitle&#39;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">alt</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="s1">&#39;&lt;a href=&quot;&#39;</span><span class="o">+</span><span class="nx">l</span><span class="o">+</span><span class="s1">&#39;/&quot; rel=&quot;nofollow&quot; target=&quot;_blank&quot;&gt;&#39;</span><span class="p">;</span>
</span><span class="line">    <span class="nb">window</span><span class="p">.</span><span class="nx">prompt</span><span class="p">(</span><span class="s2">&quot;amazon link&quot;</span><span class="p">,</span><span class="s1">&#39;&lt;div class=&quot;amazon-img&quot;&gt;&#39;</span><span class="o">+</span><span class="nx">u</span><span class="o">+</span><span class="s1">&#39;&lt;img src=&quot;&#39;</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s1">&#39;&quot; alt=&quot;&#39;</span><span class="o">+</span><span class="nx">alt</span><span class="o">+</span><span class="s1">&#39;&quot;/&gt;&lt;/a&gt;&lt;/div&gt;&#39;</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">)();</span>
</span></code></pre></td></tr></table></div></figure>

<div class="postscript">
  <p><strong>追記: 2014/05/07</strong></p>

  <p>画像やタイトルが取ってこれないページがあったので以下の項目を追加。</p>

  <ul>
    <li><code>var s=document.getElementById('landingImage').getAttribute('src');</code></li>
    <li><code>var t=document.getElementById('productTitle').innerHTML;</code></li>
  </ul>

  <p>下のブックマークレットや説明入りの方もアップデート。</p>

  <p><strong>追記ここまで</strong></p>
</div>

<p>リンクページが通常<code>ASIN</code>のIDで取ってこれるんですが、
Kindleのページとかだとこれが無いのでページの<code>canonical</code>リンクから取ってきます。</p>

<p>この例では自分のアソシエイトIDが入ってるのでその部分は変更してください。</p>

<p>あと、<code>x</code>の値が縦横の最大幅です。
横長の画像とかだと横幅が200pxになって縦の部分のあまりは白くなります。</p>

<p>下の方にある</p>

<pre><code>var i=a+p+'._SS'+x+'_.jpg';
</code></pre>

<p>が画像部分。ここの<code>_SS</code>の部分を<code>_SX</code>または<code>_SY</code>にしてやれば
それぞれ横、縦の最大値を決めるだけになります。
(それぞれ縦、横の幅は元の画像に依る)</p>

<p>この辺もお好きな様に。</p>

<p>下がドラッグで登録用。IDの部分等を登録後にでも変更してください。</p>

<p><a href="javascript:(function(){var%20id=&quot;rcmdnk0c-22&quot;;var%20x=&quot;200&quot;;if(document.getElementById('ASIN')){var%20asin=document.getElementById('ASIN').value;}else{var%20aa=document.querySelector('link[rel=&quot;canonical&quot;]').href.split(&quot;/&quot;);var%20asin=aa[aa.length-1];}var%20l='https://www.amazon.co.jp/gp/product/'+asin+'?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN='+asin+'&amp;linkCode=shr&amp;tag='+id;if(document.getElementById('prodImage')){var%20s=document.getElementById('prodImage').getAttribute('src');}else%20if(document.getElementById('main-image')){var%20s=document.getElementById('main-image').getAttribute('src');}else{var%20s=document.getElementById('landingImage').getAttribute('src')}var%20p=s.replace(http.*\/I\/([^\.]+).*$/,'$1');var%20a=s.replace(/(http.*com).*/,'$1/images/I/');var%20i=a+p+'._SS'+x+'_.jpg';if(document.getElementById('btAsinTitle')){var%20t=document.getElementById('btAsinTitle').innerHTML}else{var%20t=document.getElementById('productTitle').innerHTML};var%20alt=t.split(&quot;&lt;&quot;)[0];var%20u='&lt;a%20href=&quot;'+l+'/&quot;%20rel=&quot;nofollow&quot;%20target=&quot;_blank&quot;&gt;';window.prompt(&quot;amazon%20link&quot;,'&lt;div%20class=&quot;amazon-img&quot;&gt;'+u+'&lt;img%20src=&quot;'+i+'&quot;%20alt=&quot;'+alt+'&quot;/&gt;&lt;/a&gt;&lt;/div&gt;');})()">Amazon Image</a></p>

<p>こんな感じに:</p>

<div class="amazon-box">
  <div class="amazon-img"><a href="https://www.amazon.co.jp/gp/product/B00F04HIME?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN=B00F04HIME&amp;linkCode=shr&amp;tag=rcmdnk0c-22" rel="nofollow" target="_blank"><img width="200" height="200" src="https://images-fe.ssl-images-amazon.com/images/I/51VuNxbdtNL._SS200_.jpg" alt="基礎から始めるJavaScript " /></a></div>
</div>

<h3 id="amazonの説明入りリンクを作る">Amazonの説明入りリンクを作る</h3>

<p>Amazonの普通のリンクを作るブックマークレット。</p>

<figure class="code"><figcaption><span>Amazon Link</span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span></span><span class="nx">javascript</span><span class="o">:</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="s2">&quot;rcmdnk0c-22&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="s2">&quot;200&quot;</span><span class="p">;</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;ASIN&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">asin</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;ASIN&#39;</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;link[rel=&quot;canonical&quot;]&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">asin</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;link[rel=&quot;canonical&quot;]&#39;</span><span class="p">).</span><span class="nx">href</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">).</span><span class="nx">pop</span><span class="p">();</span>
</span><span class="line">  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Failed to get asin!&quot;</span><span class="p">);</span>
</span><span class="line">    <span class="k">return</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">l</span> <span class="o">=</span> <span class="s1">&#39;https://www.amazon.co.jp/o/ASIN/&#39;</span> <span class="o">+</span> <span class="nx">asin</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="nx">id</span><span class="p">;</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;prodImage&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;prodImage&#39;</span><span class="p">).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;main-image&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;main-image&#39;</span><span class="p">).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;landingImage&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;landingImage&#39;</span><span class="p">).</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Failed to get image!&quot;</span><span class="p">);</span>
</span><span class="line">    <span class="k">return</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/http.*\/I\/([^\.]+).*$/</span><span class="p">,</span> <span class="s1">&#39;$1&#39;</span><span class="p">);</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(http.*com).*/</span><span class="p">,</span> <span class="s1">&#39;$1/images/I/&#39;</span><span class="p">);</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="nx">s</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">).</span><span class="nx">pop</span><span class="p">();</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">p</span> <span class="o">+</span> <span class="s1">&#39;._SS&#39;</span> <span class="o">+</span> <span class="nx">x</span> <span class="o">+</span> <span class="s1">&#39;_.&#39;</span> <span class="o">+</span> <span class="nx">e</span><span class="p">;</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="nx">content</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;btAsinTitle&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">content</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;btAsinTitle&#39;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">content</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;productTitle&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">content</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;productTitle&#39;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Failed to get title!&quot;</span><span class="p">);</span>
</span><span class="line">    <span class="k">return</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">alt</span> <span class="o">=</span> <span class="nx">t</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;&lt;&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">u</span> <span class="o">=</span> <span class="s1">&#39;&lt;a href=&quot;&#39;</span> <span class="o">+</span> <span class="nx">l</span> <span class="o">+</span> <span class="s1">&#39;/&quot; rel=&quot;nofollow&quot; target=&quot;_blank&quot;&gt;&#39;</span><span class="p">;</span>
</span><span class="line">  <span class="nb">window</span><span class="p">.</span><span class="nx">prompt</span><span class="p">(</span><span class="s2">&quot;amazon link&quot;</span><span class="p">,</span> <span class="s1">&#39;&lt;div class=&quot;amazon-img&quot;&gt;&#39;</span> <span class="o">+</span> <span class="nx">u</span> <span class="o">+</span> <span class="s1">&#39;&lt;img src=&quot;&#39;</span> <span class="o">+</span> <span class="nx">i</span> <span class="o">+</span> <span class="s1">&#39;&quot; alt=&quot;&#39;</span> <span class="o">+</span> <span class="nx">alt</span> <span class="o">+</span> <span class="s1">&#39;&quot;/&gt;&lt;/a&gt;&lt;/div&gt;&#39;</span><span class="p">);</span>
</span><span class="line"><span class="p">})()</span>
</span></code></pre></td></tr></table></div></figure>

<div class="postscript">
  <p><strong>追記: 2014/08/24</strong></p>

  <p>pngに対応したり失敗した時にエラープロンプトを出したり色々修正。</p>

  <p><strong>追記ここまで</strong></p>
</div>

<p>URLとか画像の取り方は上と一緒。
<code>prompt</code>の所で<code>Amazon%...</code>となってる不明な文字列は<code>Amazonで詳しく見る</code>です。</p>

<p>ドラッグ用リンクはこちら。</p>

<strike>[Amazon Link](javascript:(function(){var%20id="rcmdnk0c-22";var%20x="200";if(document.getElementById('ASIN')){var%20asin=document.getElementById('ASIN').value;}else{var%20aa=document.querySelector('link[rel="canonical"]').href.split("/");var%20asin=aa[aa.length-1];}var%20l='https://www.amazon.co.jp/gp/product/'+asin+'?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN='+asin+'&amp;linkCode=shr&amp;tag='+id;if(document.getElementById('prodImage')){var%20s=document.getElementById('prodImage').getAttribute('src');}else%20if(document.getElementById('main-image')){var%20s=document.getElementById('main-image').getAttribute('src');}else{var%20s=document.getElementById('landingImage').getAttribute('src')}var%20p=s.replace(http.*\/I\/([^\.]+).*$/,'$1');var%20a=s.replace(/(http.*com).*/,'$1/images/I/');var%20i=a+p+'._SS'+x+'_.jpg';if(document.getElementById('btAsinTitle')){var%20t=document.getElementById('btAsinTitle').innerHTML}else{var%20t=document.getElementById('productTitle').innerHTML};var%20alt=t.split("&lt;")[0];var%20u='&lt;a%20href="'+l+'/"%20rel="nofollow"%20target="_blank"&gt;';window.prompt("amazon%20link",'&lt;div%20class="amazon-box"&gt;&lt;div%20class="amazon-img"&gt;'+u+'&lt;img%20src="'+i+'"%20alt="'+alt+'"/&gt;&lt;/a&gt;&lt;/div&gt;&lt;div%20class="amazon-txt"&gt;'+u+t+'<br /><br />Amazon%E3%81%A7%E8%A9%B3%E3%81%97%E3%81%8F%E8%A6%8B%E3%82%8B&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;');})())</strike>

<p>修正版(pngに対応したり失敗した時のもエラープロンプトを出すように): <a href="javascript:(function(){var%20id=&quot;rcmdnk0c-22&quot;;var%20x=&quot;200&quot;;if(document.getElementById('ASIN')){var%20asin=document.getElementById('ASIN').value;}else%20if(document.querySelector('link[rel=&quot;canonical&quot;]')){var%20asin=document.querySelector('link[rel=&quot;canonical&quot;]').href.split(&quot;/&quot;).pop();}else{alert(&quot;Failed%20to%20get%20asin!&quot;);return;}var%20l='https://www.amazon.co.jp/gp/product/'+asin+'?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN='+asin+'&amp;linkCode=shr&amp;tag='+id;if(document.getElementById('prodImage')){var%20s=document.getElementById('prodImage').getAttribute('src');}else%20if(document.getElementById('main-image')){var%20s=document.getElementById('main-image').getAttribute('src');}else%20if(document.getElementById('landingImage')){var%20s=document.getElementById('landingImage').getAttribute('src');}else{alert(&quot;Failed%20to%20get%20image!&quot;);return;}var%20p=s.replace(http.*\/I\/([^\.]+).*$/,'$1');var%20a=s.replace(/(http.*com).*/,'$1/images/I/');var%20e=s.split(&quot;.&quot;).pop();var%20i=a+p+'._SS'+x+'_.'+e;if(content.document.getElementById('btAsinTitle')){var%20t=content.document.getElementById('btAsinTitle').innerHTML;}else%20if(content.document.getElementById('productTitle')){var%20t=content.document.getElementById('productTitle').innerHTML;}else{alert(&quot;Failed%20to%20get%20title!&quot;);return;}var%20alt=t.split(&quot;&lt;&quot;)[0];var%20u='&lt;a%20href=&quot;'+l+'/&quot;%20rel=&quot;nofollow&quot;%20target=&quot;_blank&quot;&gt;';window.prompt(&quot;amazon%20link&quot;,'&lt;div%20class=&quot;amazon-img&quot;&gt;'+u+'&lt;img%20src=&quot;'+i+'&quot;%20alt=&quot;'+alt+'&quot;/&gt;&lt;/a&gt;&lt;/div&gt;');})()">Amazon Link</a></p>

<p>こんな感じで出ます。</p>

<div class="amazon-box"><div class="amazon-img"><a href="https://www.amazon.co.jp/gp/product/B00F04HIME?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN=B00F04HIME&amp;linkCode=shr&amp;tag=rcmdnk0c-22" rel="nofollow" target="_blank"><img width="200" height="200" src="https://images-fe.ssl-images-amazon.com/images/I/51VuNxbdtNL._SS200_.jpg" alt="基礎から始めるJavaScript " /></a></div><div class="amazon-txt"><a href="https://www.amazon.co.jp/gp/product/B00F04HIME?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN=B00F04HIME&amp;linkCode=shr&amp;tag=rcmdnk0c-22" rel="nofollow" target="_blank">基礎から始めるJavaScript <span style="text-transform: capitalize; font-size: 16px;">[Kindle版]</span><br /><br />Amazonで詳しく見る</a></div></div>

<p>なお、上の二つのAmazonのリンクではCSS(SCSS)で</p>

<figure class="code"><figcaption><span>sass/plugins/_plugins.scss</span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="css"><span class="line"><span></span><span class="o">//</span> <span class="nt">amazon</span>
</span><span class="line"><span class="p">.</span><span class="nc">amazon-box</span><span class="p">{</span>
</span><span class="line">  <span class="err">@extend</span> <span class="err">.group</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="p">.</span><span class="nc">amazon-img</span><span class="p">{</span>
</span><span class="line">  <span class="k">float</span><span class="p">:</span> <span class="kc">left</span><span class="p">;</span> <span class="k">margin-right</span><span class="p">:</span> <span class="mf">1.5</span><span class="kt">em</span><span class="p">;</span>
</span><span class="line">  <span class="k">margin-bottom</span><span class="p">:</span> <span class="mf">.8</span><span class="kt">em</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="p">.</span><span class="nc">amazon-txt</span><span class="p">{</span>
</span><span class="line">  <span class="k">float</span><span class="p">:</span> <span class="kc">left</span><span class="p">;</span> <span class="k">margin-right</span><span class="p">:</span> <span class="mf">1.5</span><span class="kt">em</span><span class="p">;</span>
</span><span class="line">  <span class="k">margin-bottom</span><span class="p">:</span> <span class="mf">.8</span><span class="kt">em</span><span class="p">;</span>
</span><span class="line">  <span class="k">width</span><span class="p">:</span> <span class="mi">500</span><span class="kt">px</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

<p>としてあります<sup id="fninref:4"><a href="#fnin:4" rel="footnote">4</a></sup>。</p>

<p>画像だけの時は左寄せ。
なので画像だけの時は適当な所で
<code>clear:both;</code>を使って解除するか(もしくは上のを使って<code>&lt;div amazon-box&gt;&lt;/div&gt;</code>を挿入するか)
適当な範囲を<code>&lt;div amazon-box&gt;</code>~<code>&lt;/div&gt;</code>で囲ってやる必要があります。</p>

<h2 id="まとめ">まとめ</h2>

<p>ブックマークレットについてまとめてみましたが、
基本的にはポップアップを出してそこからコピーする、と行った作業です。</p>

<p><a href="https://rcmdnk.com/blog/2014/02/15/blog-octopress-vimperator/">次回</a>はFirefoxでVimperatorを使ってショートカットキーで直接
クリップボードに入れる方法を紹介したいと思います。</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Firefoxの表示をすっきりカスタマイズ]]></title>
    <link href="https://rcmdnk.com/blog/2013/05/14/computer-firefox-mac-windows/"/>
    <updated>2013-05-14T12:00:00+00:00</updated>
    <id>https://rcmdnk.com/blog/2013/05/14/computer-firefox-mac-windows</id>
    <content type="html"><![CDATA[<p><a href="http://www.mozilla.jp/firefox/21.0/releasenotes/">Firefox 21がリリースされた</a>
ことを記念(?)して、
現在使っているFirefoxの見た目の調整方法を紹介をします。</p>

<!-- more -->

<ul id="markdown-toc">
  <li><a href="#必要なアドオン" id="markdown-toc-必要なアドオン">必要なアドオン</a>    <ul>
      <li><a href="#vimperator" id="markdown-toc-vimperator">Vimperator</a></li>
      <li><a href="#tabs-always-in-titlebar" id="markdown-toc-tabs-always-in-titlebar">Tabs Always In Titlebar</a></li>
      <li><a href="#download-statusbar-またはstatus-4-evar" id="markdown-toc-download-statusbar-またはstatus-4-evar">Download Statusbar またはStatus-4-Evar</a></li>
      <li><a href="#mybookmarks" id="markdown-toc-mybookmarks">MyBookmarks</a></li>
      <li><a href="#dark-fox" id="markdown-toc-dark-fox">Dark Fox</a></li>
    </ul>
  </li>
  <li><a href="#ナビゲーションバー等のカスタマイズ" id="markdown-toc-ナビゲーションバー等のカスタマイズ">ナビゲーションバー等のカスタマイズ</a></li>
  <li><a href="#ブックマークツールバーに入れるブックマーク" id="markdown-toc-ブックマークツールバーに入れるブックマーク">ブックマークツールバーに入れるブックマーク</a></li>
  <li><a href="#実際の表示" id="markdown-toc-実際の表示">実際の表示</a></li>
</ul>
<div class="group"></div>

<div class="center_wrapper">
  <div>
  <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3802317723662375" data-ad-slot="5762198341"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  </div>
</div>

<h2 id="必要なアドオン">必要なアドオン</h2>
<p>まずは以下のアドオンを導入します。</p>

<h3 id="vimperator">Vimperator</h3>
<p><a href="http://www.vimperator.org/vimperator">Vimperator</a>は
<a href="http://rcmdnk.github.io/blog/2013/03/16/vim-firefox-thunderbird/#FirefoxでVimperator">FirefoxでVimperator</a>
でも紹介しましたが、今回はアドレスバーを殆ど使えなくしてしまうので、
特にアドレスバーの代わりになる機能を使うために必要です。</p>

<p>こんな感じで最下部に</p>

<p><img src="https://rcmdnk.com/images/post/20130514_firefox_mac_address.jpg" alt="" title="" /></p>

<p>下部のステータスバーにアドレスが表示されます。</p>

<p><code>y</code>を押すとページのアドレスがクリップボードにコピーされます。</p>

<p>アドレスを打ち込んでページを移動したい時は<code>o</code>または<code>:open</code>とする
ステータスバーが</p>

<p><img src="https://rcmdnk.com/images/post/20130514_vimperator_open.jpg" alt="" title="" /></p>

<p>こんな感じで入力出来るようになるので、ここへ入力します。</p>

<p>もし、現状のページのアドレスを変更して移動したい場合は、
少し通常のアドレスバーより手間がかかりますが、
<code>yo&lt;C-v&gt;</code>と押して</p>

<ul>
  <li><code>y</code>: URLをコピー</li>
  <li><code>o</code>: openコマンドでURLを入力出来るようにする</li>
  <li><code>&lt;C-v&gt;</code>: <code>Ctrl</code>-<code>v</code>、ペースト(Macの場合は<code>Cmd</code>-<code>v</code>で)</li>
</ul>

<p>これが煩わしければ</p>

<figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">js&lt;&lt;EOM {%comment%}&gt;&gt;{%endcomment%}
</span><span class="line">  if (liberator.has("MacUnix")) {
</span><span class="line">    liberator.execute("nnoremap yo y:open &lt;M-v&gt;");
</span><span class="line">  } else {
</span><span class="line">    liberator.execute("nnoremap yo y:open &lt;C-v&gt;");
</span><span class="line">  }
</span><span class="line">EOM</span></code></pre></td></tr></table></div></figure>

<p>の様に<code>~/.vimperatorrc</code>(<code>~/_vimperatorrc</code>@Windows)へ追加しておくと<code>yo</code>と押しただけで
現在のURLが記入されて変更可能な状態に一気に行ける様になります。</p>

<p>また、このopenコマンドで適当な単語を与えるとgoogle search
(デフォルト、サーチエンジンは設定変更出来ます)してくれるので、
検索バーも要らなくなります。
(これは最近のブラウザだとアドレスバーが兼ねてる場合が多いので
検索バーを置いてる人は減ってきていると思いますが…)</p>

<h3 id="tabs-always-in-titlebar">Tabs Always In Titlebar</h3>
<p><a href="https://addons.mozilla.org/ja/firefox/addon/tabs-always-in-titlebar/">Tabs Always In Titlebar</a>
はWindows専用でMacでは使えませんがタイトルバーにタブを表示してくれる様になります。
タイトルバーでページのタイトルを確認することは殆ど無いので、
スペースを有効に使えて、こんな感じですっきりします。</p>

<p><img src="https://rcmdnk.com/images/post/20130514_firefox_win_titlebar.jpg" alt="" title="" /></p>

<h3 id="download-statusbar-またはstatus-4-evar">Download Statusbar またはStatus-4-Evar</h3>
<p><a href="https://addons.mozilla.org/ja/firefox/addon/download-statusbar/">Download Statusbar</a>
と
<a href="https://addons.mozilla.org/ja/firefox/addon/status-4-evar/">Status-4-Evar</a>
はFirefox4から無くなったステータスバーの代わりをするものです。</p>

<blockquote>
  <p>Ref: <a href="http://support.mozilla.org/ja/kb/what-happened-status-bar">ステータスバーに何が起きたのか?</a></p>
</blockquote>

<p>例えばDownload Statusbarを導入するとだとこの様にダウンロード状況を
ステータスバーに表示してくれます。</p>

<p><img src="https://rcmdnk.com/images/post/20130514_download_statusbar.jpg" alt="" title="" /></p>

<h3 id="mybookmarks">MyBookmarks</h3>
<p><a href="https://www.google.co.jp/">MyBookmarks</a>は自分のブックマーク一覧のページを
作成して表示してくれます。</p>

<p><a href="about:mybookmarks">about:mybookmarks</a>というアドレスを開くと</p>

<p><img src="https://rcmdnk.com/images/post/20130514_mybookmarks.jpg" alt="" title="" /></p>

<p>こんな感じの一覧ページが出てきます。</p>

<p>もし多様するようならvimperatorを使って<code>.vimperatorrc</code>へ</p>

<pre><code>nnoremap b :open about:mybookmarks
silent qmark b :open about:mybookmarks
</code></pre>

<p>の様にしておくと一発で開けるようになります。
上の設定は<code>b</code>を押すだけで開けますがこれだとvimperatorでのバッファー(タブ)
の操作のコマンドを1つ潰してしまします。(使わなければOK)</p>

<p>下の方はqmarkと言う機能でこれで設定した記号と合わせて
<code>gob</code>、<code>gnb</code>とすればそれぞれ現在のページ、新規タブで
MyBookmarksが開ける様になります。</p>

<p>この辺の設定は他の通常のページでも勿論可能です。</p>

<h3 id="dark-fox">Dark Fox</h3>
<p><a href="https://addons.mozilla.org/ja/firefox/addon/dark-fox-18066/">Dark Fox</a>
はアドオンではなくテーマですが、取り敢えず見た目の1つと言うことで
今使っているテーマです。</p>

<h2 id="ナビゲーションバー等のカスタマイズ">ナビゲーションバー等のカスタマイズ</h2>
<p>次にナビゲーションバー等の表示をカスタマイズしていきます。
ナビゲーションバーなどを右クリックすると下の様な表示が出てくるので</p>

<p><img src="https://rcmdnk.com/images/post/20130514_firefox_customize.jpg" alt="" title="" /></p>

<p>ここで<code>ブックマークツールバー</code>以外のチェックを全て外します。
(もしくはメニューの表示から)</p>

<p>次にカスタマイズを選びツールバーをカスタマイズしていきます。
好きな物だけをブックマークツールバーの部分に持っていけば良いだけですが、
アドレスバーなんかもブックマークツールバーへ持っていけるので、
必要であればドラッグして持っていきます。</p>

<p><img src="https://rcmdnk.com/images/post/20130514_bookmarktoolbar_customize.jpg" alt="" title="" /></p>

<p><code>ナビゲーションバー</code>の方だけを残しても同じような事が出来ますが、
<code>ブックマークツールバー</code>の方が元々縦に短いのでよりすっきりします。</p>

<p>現在のブックマークツールバーに置いてあるのは</p>

<ul>
  <li>アドレスバー: URLの打ち込み等には使わないがBookMarkされているかどうか(星)
とPocketに保存してあるかどうかを簡単に見るため(それ程重要でもないですが、
まあ、アドレスバーくらい残したい、と言うこともあり)</li>
  <li>更新ボタン: 一応あるとマウス/トラックパッドで操作している時便利。
vimperatorを入れていれば、キーボードからは<code>r</code>/<code>R</code>でリロード出来ます。
(<code>R</code>だとchacheをスキップ)。勿論F5でもOKですが。
戻る、進むボタンも必要なら入れても良いと思います。
(こっちはショートカットやマウスジェスチャー等を使ってボタンはまず使わないので外してあります。)</li>
  <li>Last Passボタン: パスワードを自動入力してくれるアドオンですが、
たまに機能をオフにして別のIDでログインしたりしたい時があるのですぐにアクセスする
ために。</li>
  <li>Evernoteクリップボタン: <a href="https://addons.mozilla.org/ja/firefox/addon/evernote-web-clipper/">Evefninote Web Clipper</a>アドオンのボタンでEvernoteへクリップするために必要。
<a href="https://addons.mozilla.org/ja/firefox/addon/evernote-web-clipper/">Clearly</a>
も併用してますが、こちらは右クリックから行けるのでボタンは設置しません。</li>
  <li>ブックマークルールバー: 特にブックマークレットのために必要。</li>
  <li>ブックマーク: 直接ブックマークを開ける様に。特にWindowsでメニューバーを隠して
しまうと開くのに1段階余計にかかるようになるのでここへ。
vimperatorを使うとあまり直接開く機会はなくなりますが、
<a href="https://addons.mozilla.org/ja/firefox/addon/add-bookmark-here-2/">Add Bookmark Here</a>
と言うアドオンで、各フォルダを先に見ながらブックマークを入れられる様にしているので、
特にブックマークをする時に良くアクセスします。
ブックマークツールバーとブックマークはカスタマイズの項目で
ちょっとわかりにくいですが、下の絵にあるそれぞれ
左側がブックマークツールバー、右側がブックマークボタンです。</li>
</ul>

<p>ツールバー上:</p>

<p><img src="https://rcmdnk.com/images/post/20130514_bookmarkbuttons_toolbar.jpg" alt="" title="" /></p>

<p>カスタマイズのアイコン一覧の中:</p>

<p><img src="https://rcmdnk.com/images/post/20130514_bookmarkbuttons.jpg" alt="" title="" /></p>

<h2 id="ブックマークツールバーに入れるブックマーク">ブックマークツールバーに入れるブックマーク</h2>
<p>最後にブックマークツールバーに入れるブックマークについて。
上の画像でもちょこちょこ出ていますが、基本的にツールバーに入れる
ブックマークは全て<code>名前</code>を空欄にしています。
Favicon設定が無いページやブックマークレットについては
アルファベット1文字か2文字だけ入れる様にしています。</p>

<p>入れているものの例として</p>

<ul>
  <li>Google関連:<a href="https://www.google.co.jp/">google</a>、<a href="http://www.google.co.jp/reader/view/#stream">Reader</a>、<a href="https://www.google.com/calendar/render?hl=ja">Calendar</a>、<a href="https://mail.google.com/tasks/canvas">Task</a>、<a href="http://translate.google.com/">翻訳</a></li>
  <li><a href="http://www.feedly.com/home#latest">Feedly</a></li>
  <li><a href="http://getpocket.com/a/queue/">Pocket</a></li>
</ul>

<p>などがブックマークで、ブックマークレットとしては</p>

<div><ul>
<li><a href="javascript:var%20b=document.body;var%20GR________bookmarklet_domain='http://www.google.co.jp';if(b&amp;&amp;!document.xmlVersion){void(z=document.createElement('script'));void(z.src='http://www.google.co.jp/reader/ui/subscribe-bookmarklet.js');void(b.appendChild(z));}else{location='http://www.google.com/reader/view/feed/'+encodeURIComponent(location.href)}">G: Google Readerへ登録</a></li>
<li><a href="javascript:void(d=document);void(el=d.getElementsByTagName('link'));void(g=false);for(i=0;i&lt;el.length;i++){if(el[i].getAttribute('rel').indexOf('alternate')!=-1){ty=el[i].getAttribute('type');if(ty.indexOf('application/rss+xml')!=-1||ty.indexOf('text/xml')!=-1){g=true;h=el[i].getAttribute('href');void(location.href='http://www.feedly.com/home#subscription/feed/'+h);}}};if(!g){window.alert('Could%20not%20find%20the%20RSS%20Feed');};">F: Feedlyへ登録</a></li>
<li>P: Pocketへ追加 (Pocketの自分のページから追加出来ます。)</li>
<li><a href="javascript:(function()%20%7B%20var%20s%20=%20document.createElement(%22script%22);%20s.setAttribute(%22id%22,%20%22bitmark_js%22);%20s.setAttribute(%22type%22,%20%22text/javascript%22);%20s.setAttribute(%22src%22,%20%22//bitly.com/a/bitmarklet.js%22);%20(top.document.body%20%7C%7C%20top.document.getElementsByTagName(%22head%22)[0]).appendChild(s);%20%7D)();">B: BitlyでURL短縮</a></li>
<li><a href="javascript:var%20t=((window.getSelection&amp;&amp;window.getSelection())||(document.getSelection&amp;&amp;document.getSelection())||(document.selection&amp;&amp;document.selection.createRange&amp;&amp;document.selection.createRange().text));var%20e=(document.charset||document.characterSet);if(t!=''){location.href='http://translate.google.com/?text='+t+'&amp;hl=ja&amp;langpair=auto|ja&amp;tbb=1&amp;ie='+e;}else{location.href='http://translate.google.com/translate?u='+encodeURIComponent(location.href)+'&amp;hl=ja&amp;langpair=auto|ja&amp;tbb=1&amp;ie='+e;};">J: ページを日本語に翻訳</a></li>
<li><a href="javascript:var%20t=((window.getSelection&amp;&amp;window.getSelection())||(document.getSelection&amp;&amp;document.getSelection())||(document.selection&amp;&amp;document.selection.createRange&amp;&amp;document.selection.createRange().text));var%20e=(document.charset||document.characterSet);if(t!=''){location.href='http://translate.google.com/?text='+t+'&amp;hl=ja&amp;langpair=auto|en&amp;tbb=1&amp;ie='+e;}else{location.href='http://translate.google.com/translate?u='+encodeURIComponent(location.href)+'&amp;hl=ja&amp;langpair=auto|en&amp;tbb=1&amp;ie='+e;};">E: ページを英語に翻訳</a></li>
</ul></div>

<p>こんな感じです。
Google ReaderとFeedlyが重複してる感じですが、
移行期間、と言うことで、そのうちGoogle Readerの方は消します。</p>

<p>もし登録したい場合は上記のリンクをそのまま
ブックマークツールバーへドラックしても登録出来ます。</p>

<h2 id="実際の表示">実際の表示</h2>

<p>上記の設定で大体こんな感じになります。</p>

<p>Windows:</p>

<p><img src="https://rcmdnk.com/images/post/20130514_firefox_win.jpg" alt="" title="" /></p>

<p>Mac:</p>

<p><img src="https://rcmdnk.com/images/post/20130514_firefox_mac.jpg" alt="" title="" /></p>

<p>Windowsの方はTabs Always In Titlebarを使ってかなりスッキリしていると思います。
色具合とか、多少紹介してないvimperatorでの設定がありますが、
大体同じようになるはずです。</p>

<p>特に小さな画面のパソコンでは有用だと思いますし、
大きな画面でも余計な物は取っ払ってすっきりした方が快適に使えると思います。</p>

<p>間違ってもこんな感じのツールバーだらけにはしない様に…</p>

<p><img src="https://rcmdnk.com/images/post/20130514_Fullscreen.jpg" alt="" title="" /></p>

<blockquote>
  <p>Ref: <a href="http://cybernetnews.com/cybernotes-200-firefox-extensions-installed-at-one-time/">CyberNotes: 200 Firefox Extensions Installed At One Time!</a></p>
</blockquote>

]]></content>
  </entry>
  
</feed>
