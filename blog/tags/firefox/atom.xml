<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: Firefox | rcmdnk's blog]]></title>
  <link href="http://rcmdnk.github.io/blog/tags/firefox/atom.xml" rel="self"/>
  <link href="http://rcmdnk.github.io/"/>
  <updated>2013-09-17T02:11:41+02:00</updated>
  <id>http://rcmdnk.github.io/</id>
  <author>
    <name><![CDATA[rcmdnk]]></name>
    <email><![CDATA[rdmdnk@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[お気に入りに登録ボタンが使えなくなった@Firefox]]></title>
    <link href="http://rcmdnk.github.io/blog/2013/09/09/blog/"/>
    <updated>2013-09-09T18:35:00+02:00</updated>
    <id>http://rcmdnk.github.io/blog/2013/09/09/blog</id>
    <content type="html"><![CDATA[<p>ブログに設置してあった<code>お気に入りに登録</code>の
ボタンをなにげに押してみたら上手く動かなくなってました。</p>

<p>確かに前は動いたはずなのに。。。</p>

<!-- more -->


<p><br class="clearBoth">

<h1>Contents</h1>
{:TOC}

<script type="text/javascript"><!--
google_ad_client = "ca-pub-3802317723662375";
/* imgRectMid */
google_ad_slot = "9043394444";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




</p>

<h1 id="設置してあったボタン">設置してあったボタン</h1>

<p>設置してあったボタンはこんな感じ。</p>

<p>javascript部分が</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>source/javascripts/utils.js </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">jQuery</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.add_bookmark&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span> <span class="o">!</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;page_title&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="o">!</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;page_url&#39;</span><span class="p">)</span> <span class="p">){</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="k">return</span> <span class="nx">addBookmark</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span> <span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">)</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>  <span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="k">return</span> <span class="nx">addBookmark</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;page_title&#39;</span><span class="p">),</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;page_url&#39;</span><span class="p">))</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>  <span class="p">}</span>
</span><span class='line'>  <span class="p">});</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>  <span class="kd">function</span> <span class="nx">addBookmark</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span> <span class="nx">url</span><span class="p">)</span> <span class="p">{</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="kd">var</span> <span class="nx">metaKey</span> <span class="o">=</span> <span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">appVersion</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;Mac&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="s1">&#39;CMD&#39;</span> <span class="o">:</span> <span class="s1">&#39;CTRL&#39;</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;MSIE&quot;</span><span class="p">)</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
</span><span class='line'>  <span class="c1">//Internet Explorer</span>
</span><span class='line'>  <span class="nb">window</span><span class="p">.</span><span class="nx">external</span><span class="p">.</span><span class="nx">AddFavorite</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="nx">url</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;Firefox&quot;</span><span class="p">)</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
</span><span class='line'>  <span class="c1">//Firefox</span>
</span><span class='line'>  <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;サイドバーではなく、通常のブックマークにする場合、\n\&quot;このブックマークはサイドバーに読み込む\&quot;のチェックを外して下さい。&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="nb">window</span><span class="p">.</span><span class="nx">sidebar</span><span class="p">.</span><span class="nx">addPanel</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="nx">url</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;Opera&quot;</span><span class="p">)</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
</span><span class='line'>  <span class="c1">//Opera</span>
</span><span class='line'>  <span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="s1">&#39;sidebar&#39;</span><span class="p">,</span><span class="s1">&#39;title=&#39;</span><span class="o">+</span><span class="nx">title</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;Flock&quot;</span><span class="p">)</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
</span><span class='line'>  <span class="c1">//Flock</span>
</span><span class='line'>  <span class="nb">window</span><span class="p">.</span><span class="nx">sidebar</span><span class="p">.</span><span class="nx">addPanel</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span><span class="nx">url</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;Chrome&quot;</span><span class="p">)</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
</span><span class='line'>  <span class="c1">//Chrome</span>
</span><span class='line'>  <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Push &quot;</span><span class="o">+</span><span class="nx">metaKey</span><span class="o">+</span><span class="s2">&quot;-D to add favorite!&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;Safari&quot;</span><span class="p">)</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
</span><span class='line'>  <span class="c1">//Safari</span>
</span><span class='line'>  <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Push &quot;</span><span class="o">+</span><span class="nx">metaKey</span><span class="o">+</span><span class="s2">&quot;-D to add favorite!&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;Lunascape&quot;</span><span class="p">)</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
</span><span class='line'>  <span class="c1">//Lunascape</span>
</span><span class='line'>  <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Push &quot;</span><span class="o">+</span><span class="nx">metaKey</span><span class="o">+</span><span class="s2">&quot;-G to add favorite!&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span><span class='line'>  <span class="c1">//other</span>
</span><span class='line'>  <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Please use the browser&#39;s bookmark function!&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>こんな感じ。ブラウザチェックして適当な関数を呼ぶように。
小さなjavascriptの関数とかは
<code>source/javascripts/utils.js</code>に書いて
<code>source/_include/custom/head.html</code>等に</p>

<pre><code>&lt;script src="/javascripts/utils.js"&gt;&lt;/script&gt;
</code></pre>

<p>として読み込んでます。</p>

<p>ボタンは<code>sass</code>内で<code>custom/_styles.css</code>等に</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>sass/custom/_styles.scss </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nc">.link_btn</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">background-color</span><span class="o">:</span><span class="err">$</span><span class="n">nav</span><span class="o">-</span><span class="n">bg</span><span class="p">;</span>
</span><span class='line'>  <span class="k">padding</span><span class="o">:</span><span class="m">2px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">padding-left</span><span class="o">:</span><span class="m">5px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">padding-right</span><span class="o">:</span><span class="m">5px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">position</span><span class="o">:</span><span class="k">relative</span><span class="p">;</span>
</span><span class='line'>  <span class="k">text-decoration</span><span class="o">:</span><span class="k">none</span><span class="p">;</span>
</span><span class='line'>  <span class="o">//</span><span class="k">color</span><span class="o">:</span><span class="err">$</span><span class="n">nav</span><span class="o">-</span><span class="n">bg</span><span class="p">;</span>
</span><span class='line'>  <span class="k">border</span><span class="o">:</span> <span class="k">solid</span> <span class="m">2px</span> <span class="n">darken</span><span class="p">(</span><span class="err">$</span><span class="n">nav</span><span class="o">-</span><span class="n">bg</span><span class="o">,</span> <span class="m">15</span><span class="p">);</span>
</span><span class='line'>  <span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span><span class="o">&lt;/</span><span class="nt">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nt">p</span><span class="o">&gt;</span><span class="nc">.link_btn</span><span class="nd">:active</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">padding-bottom</span><span class="o">:</span><span class="m">1px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">padding-left</span><span class="o">:</span><span class="m">5px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">padding-right</span><span class="o">:</span><span class="m">5px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">padding-top</span><span class="o">:</span><span class="m">3px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">top</span><span class="o">:</span><span class="m">1px</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span><span class="o">&lt;/</span><span class="nt">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nt">p</span><span class="o">&gt;</span><span class="nc">.link_btn</span><span class="o">:</span><span class="nd">:before</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">background-color</span><span class="o">:</span><span class="err">$</span><span class="n">nav</span><span class="o">-</span><span class="n">bg</span><span class="p">;</span>
</span><span class='line'>  <span class="k">content</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="k">display</span><span class="o">:</span><span class="k">block</span><span class="p">;</span>
</span><span class='line'>  <span class="k">position</span><span class="o">:</span><span class="k">absolute</span><span class="p">;</span>
</span><span class='line'>  <span class="k">width</span><span class="o">:</span><span class="m">100</span><span class="o">%</span><span class="p">;</span>
</span><span class='line'>  <span class="k">height</span><span class="o">:</span><span class="m">100</span><span class="o">%</span><span class="p">;</span>
</span><span class='line'>  <span class="k">padding</span><span class="o">:</span><span class="m">1px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">left</span><span class="o">:-</span><span class="m">1px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">top</span><span class="o">:-</span><span class="m">1px</span><span class="p">;</span>
</span><span class='line'>  <span class="k">z-index</span><span class="o">:-</span><span class="m">1</span><span class="p">;</span>
</span><span class='line'>  <span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span><span class="o">&lt;/</span><span class="nt">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nt">p</span><span class="o">&gt;</span><span class="nt">li</span><span class="nc">.bookmark</span> <span class="p">{</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="k">width</span><span class="o">:</span> <span class="m">130px</span><span class="p">;</span>
</span><span class='line'><span class="k">height</span><span class="o">:</span> <span class="m">21px</span><span class="p">;</span>
</span><span class='line'><span class="k">line-height</span><span class="o">:</span> <span class="m">15px</span><span class="p">;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>こんな感じの物を作って、
<code>source/_includes/post/sharing.html</code>内に</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;pre&gt;&lt;code&gt;</span><span class="ni">&amp;lt;</span>li class=&quot;bookmark&quot;<span class="ni">&amp;gt;</span>
</span><span class='line'>  {% if index %}
</span><span class='line'>  <span class="ni">&amp;lt;</span>input class=&quot;link_btn add_bookmark&quot; type=&quot;button&quot; value=&quot;{{site.favorite}}&quot; data-page_title=&quot;{{post.title}} - {{site.title}}&quot; data-page_url=&quot;{{site.url}}{{post.url}}&quot;/<span class="ni">&amp;gt;</span>
</span><span class='line'>  {% else %}
</span><span class='line'>  <span class="ni">&amp;lt;</span>input class=&quot;link_btn add_bookmark&quot; type=&quot;button&quot; value=&quot;{{site.favorite}}&quot; data-page_title=&quot;{{page.title}} - {{site.title}}&quot; data-page_url=&quot;{{site.url}}{{page.url}}&quot;/<span class="ni">&amp;gt;</span>
</span><span class='line'>  {% endif %}
</span><span class='line'><span class="ni">&amp;lt;</span>/li<span class="ni">&amp;gt;</span>
</span><span class='line'><span class="nt">&lt;/code&gt;&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;p&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
といった感じで追加しておきます。</p>

<p>これで今まではFirefoxではサイドバーのチェックを外す警告の後に
ブックマークのメニューが出てきてたんですが、何故か出て来なくなった。。。</p>

<h1 id="Firefox23からの変更？">Firefox23からの変更？</h1>

<p>上の関数は割りとどこでも見られる物なので、
適当に同じようなボタンを設置してあるページを探して押してみたところ
やっぱり機能してませんでした。アドオンとかを外しても駄目。</p>

<p>で、ちょっと探してたら
<a href="https://developer.mozilla.org/ja/docs/Site_Compatibility_for_Firefox_23">Firefox 23 サイト互換性情報</a>
のページに、</p>

<blockquote><p>サイドバーパネル追加機能が削除されました</p></blockquote>

<p>との記述が。どうもざっくり削除されたようです。</p>

<p>適当に検索しても英語のページでも全然情報がひっかからないので、
こういうお気に入りボタンを設置してる人はいるものの、
普段使ってる人ってのは実際にはほとんど居ない感じなんでしょうか？
(自分で設置しても自分で押すことは滅多に無いので、一度テストしたら
二度と押さないから気付かないかもしれませんが。。。)</p>

<p>という訳で、とりあえずブラウザのせいだと思うので、諦めて、
他に方法も良くわからないので、Chrome等と同じように
自分でショートカットを押して下さい、と表示することに:</p>

<pre><code>//Firefox
-alert("サイドバーではなく、通常のブックマークにする場合、\n\"このブックマークはサイドバーに読み込む\"のチェックを外して下さい。");
-window.sidebar.addPanel(title,url,'');
alert("Push "+metaKey+"-D to add favorite!");
</code></pre>

<p>多分、全く使われてないのでいっそ削除してしまってもいいんですが、
なんとなく見栄え的に取っておきたいと言うことで暫くこのまま放置。。。</p>

<h1 id="Firefoxでブックマークする方法">Firefoxでブックマークする方法</h1>

<p>ついでに、Firefoxでのブックマークに関していくつか。</p>

<p>上に書いたように、<i class='key'>Ctrl</i>-<i class='key'>d</i>で現在のページをブックマーク出来ますが、これを含めて</p>

<ul>
<li><i class='key'>Ctrl</i>-<i class='key'>d</i>: このページをブックマーク</li>
<li><i class='key'>Ctrl</i>-<i class='key'>Shift</i>-<i class='key'>d</i>: 全てのタブをブックマーク</li>
<li><i class='key'>Ctrl</i>-<i class='key'>b</i>: ブックマークサイドバーを表示/非表示</li>
<li><i class='key'>Ctrl</i>-<i class='key'>Shift</i>-<i class='key'>b</i>: 全てのブックマークを表示</li>
</ul>


<p>等があります。(Macの場合は<i class='key'>Ctrl</i>の代わりに<i class='key'>Cmd</i>で。)</p>

<p>ただ、Firefoxには<a href="http://rcmdnk.github.io/blog/tags/vimperator/">Vimperator</a>
を入れてるので、これによってキーマップが変わってます。
<code>Vimperator</code>を入れてる場合は<i class='key'>a</i>または<code>:bmark</code>コマンドで
ブックマークを。コマンドの場合は引数でタイトル等の指定も可能。(<code>:h bmark</code>でチェック)</p>

<p>ショートカットも便利なんですが、普段ブックマークする時は
<a href="https://addons.mozilla.org/ja/firefox/addon/add-bookmark-here-2/">Add Bookmark Here</a>
と言うアドオンを使ってます。
このアドオンを入れると、ブックマーク一覧の中に
<code>Add Bookmark Here</code>というボタンが出てきて、各フォルダを見ながら
直接その場にブックマークを入れることが出来て便利です。</p>

<p>もう一つ、ブックマーク関連のアドオンで、
<a href="https://addons.mozilla.org/ja/firefox/addon/mybookmarks/">MyBookmarks</a>
というのも結構便利です。これは単に自分のブックマーク一覧のページを作ってくれて、
<code>about:mybookmarks</code>と言うアドレスで表示出来るようになります。</p>

<p><code>Vimperator</code>との組み合わせで</p>

<pre><code>nnoremap b :open about:mybookmarks&lt;cr&gt;
</code></pre>

<p>な感じで<i class='key'>b</i>でMyBookmarksを開ける様に。
(<i class='key'>b</i>はVimperatorではbufferコマンド(Firefoxでのタブ操作)に割り当てられてますので使う人は別キーへ。)</p>

<p>それから最後に<a href="https://www.xmarks.com/">Xmarks</a>。
これで全ての端末のブックマークを同期してます。
直接iPhoneでXmarksのアプリを導入すると、アプリ自体は無料ですが、
同期するには有料アカウントが必要だという罠があるので注意です。</p>

<p>ですが、XmarksはSafariやIEとは無料で同期できるので<sup id='fnref:1'><a href='#fn:1' rel='footnote'>1</a></sup>
これらのブックマークをさらにiCloud経由でiPhoneと同期させればOK。
Safariなんかは普段全く起動したことすら無いですが、
このためだけに存在してると言っても過言ではない状態に。。。</p>

<hr />

<p><div class="footnotes">
	<ol>
		<li id='fn:1'><p>FirefoxやChromeはアドオンとして入れられますが、SafariやIEはMacやWindowsで
  専用ソフトを入れて、それを使って同期を行います。
<a href='#fnref:1' rev='footnote'>↩</a></p>
</li>
	</ol>
</div>
</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Firefoxの表示をすっきりカスタマイズ]]></title>
    <link href="http://rcmdnk.github.io/blog/2013/05/14/computer-firefox-mac-windows/"/>
    <updated>2013-05-14T19:00:00+02:00</updated>
    <id>http://rcmdnk.github.io/blog/2013/05/14/computer-firefox-mac-windows</id>
    <content type="html"><![CDATA[<p><a href="http://www.mozilla.jp/firefox/21.0/releasenotes/">Firefox 21がリリースされた</a>
ことを記念(?)して、
現在使っているFirefoxの見た目の調整方法を紹介をします。</p>

<!-- more -->


<p><br class="clearBoth">

<h1>Contents</h1>
{:TOC}

<script type="text/javascript"><!--
google_ad_client = "ca-pub-3802317723662375";
/* imgRectMid */
google_ad_slot = "9043394444";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




</p>

<h1 id="必要なアドオン">必要なアドオン</h1>

<p>まずは以下のアドオンを導入します。</p>

<h2 id="Vimperator">Vimperator</h2>

<p><a href="http://www.vimperator.org/vimperator">Vimperator</a>は
<a href="http://rcmdnk.github.io/blog/2013/03/16/vim-firefox-thunderbird/#FirefoxでVimperator">FirefoxでVimperator</a>
でも紹介しましたが、今回はアドレスバーを殆ど使えなくしてしまうので、
特にアドレスバーの代わりになる機能を使うために必要です。</p>

<p>こんな感じで最下部に</p>

<p><img src="/images/post/20130514_firefox_mac_address.jpg" alt="" title="" /></p>

<p>下部のステータスバーにアドレスが表示されます。</p>

<p><code>y</code>を押すとページのアドレスがクリップボードにコピーされます。</p>

<p>アドレスを打ち込んでページを移動したい時は<code>o</code>または<code>:open</code>とする
ステータスバーが</p>

<p><img src="/images/post/20130514_vimperator_open.jpg" alt="" title="" /></p>

<p>こんな感じで入力出来るようになるので、ここへ入力します。</p>

<p>もし、現状のページのアドレスを変更して移動したい場合は、
少し通常のアドレスバーより手間がかかりますが、
<code>yo&lt;C-v&gt;</code>と押して</p>

<ul>
<li><code>y</code>: URLをコピー</li>
<li><code>o</code>: openコマンドでURLを入力出来るようにする</li>
<li><code>&lt;C-v&gt;</code>: <code>Ctrl</code>-<code>v</code>、ペースト(Macの場合は<code>Cmd</code>-<code>v</code>で)</li>
</ul>


<p>これが煩わしければ</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>js&lt;&lt;EOM {%comment%}>>{%endcomment%}
</span><span class='line'>  if (liberator.has("MacUnix")) {&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>liberator.execute("nnoremap yo y:open &lt;M-v&gt;");
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>  } else {&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;pre>&lt;code>liberator.execute("nnoremap yo y:open &lt;C-v&gt;");
</span><span class='line'>&lt;/code>&lt;/pre>
</span><span class='line'>
</span><span class='line'>&lt;p>  }
</span><span class='line'>EOM</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>の様に<code>~/.vimperatorrc</code>(<code>~/_vimperatorrc</code>@Windows)へ追加しておくと<code>yo</code>と押しただけで
現在のURLが記入されて変更可能な状態に一気に行ける様になります。</p>

<p>また、このopenコマンドで適当な単語を与えるとgoogle search
(デフォルト、サーチエンジンは設定変更出来ます)してくれるので、
検索バーも要らなくなります。
(これは最近のブラウザだとアドレスバーが兼ねてる場合が多いので
検索バーを置いてる人は減ってきていると思いますが...)</p>

<h2 id="Tabs+Always+In+Titlebar">Tabs Always In Titlebar</h2>

<p><a href="https://addons.mozilla.org/ja/firefox/addon/tabs-always-in-titlebar/">Tabs Always In Titlebar</a>
はWindows専用でMacでは使えませんがタイトルバーにタブを表示してくれる様になります。
タイトルバーでページのタイトルを確認することは殆ど無いので、
スペースを有効に使えて、こんな感じですっきりします。</p>

<p><img src="/images/post/20130514_firefox_win_titlebar.jpg" alt="" title=""/></p>

<h2 id="Download+Statusbar+またはStatus-4-Evar">Download Statusbar またはStatus-4-Evar</h2>

<p><a href="https://addons.mozilla.org/ja/firefox/addon/download-statusbar/">Download Statusbar</a>
と
<a href="https://addons.mozilla.org/ja/firefox/addon/status-4-evar/">Status-4-Evar</a>
はFirefox4から無くなったステータスバーの代わりをするものです。</p>

<blockquote><p><a href="http://support.mozilla.org/ja/kb/what-happened-status-bar">ステータスバーに何が起きたのか?</a></p></blockquote>

<p>例えばDownload Statusbarを導入するとだとこの様にダウンロード状況を
ステータスバーに表示してくれます。</p>

<p><img src="/images/post/20130514_download_statusbar.jpg" alt="" title=""/></p>

<h2 id="MyBookmarks">MyBookmarks</h2>

<p><a href="https://www.google.co.jp/">MyBookmarks</a>は自分のブックマーク一覧のページを
作成して表示してくれます。</p>

<p><a href="about:mybookmarks">about:mybookmarks</a>というアドレスを開くと</p>

<p><img src="/images/post/20130514_mybookmarks.jpg" alt="" title=""/></p>

<p>こんな感じの一覧ページが出てきます。</p>

<p>もし多様するようならvimperatorを使って<code>.vimperatorrc</code>へ</p>

<pre><code>nnoremap b :open about:mybookmarks
silent qmark b :open about:mybookmarks
</code></pre>

<p>の様にしておくと一発で開けるようになります。
上の設定は<code>b</code>を押すだけで開けますがこれだとvimperatorでのバッファー(タブ)
の操作のコマンドを1つ潰してしまします。(使わなければOK)</p>

<p>下の方はqmarkと言う機能でこれで設定した記号と合わせて
<code>gob</code>、<code>gnb</code>とすればそれぞれ現在のページ、新規タブで
MyBookmarksが開ける様になります。</p>

<p>この辺の設定は他の通常のページでも勿論可能です。</p>

<h2 id="Dark+Fox">Dark Fox</h2>

<p><a href="https://addons.mozilla.org/ja/firefox/addon/dark-fox-18066/">Dark Fox</a>
はアドオンではなくテーマですが、取り敢えず見た目の1つと言うことで
今使っているテーマです。</p>

<h1 id="ナビゲーションバー等のカスタマイズ">ナビゲーションバー等のカスタマイズ</h1>

<p>次にナビゲーションバー等の表示をカスタマイズしていきます。
ナビゲーションバーなどを右クリックすると下の様な表示が出てくるので</p>

<p><img src="/images/post/20130514_firefox_mac.customize.jpg" alt="" title=""/></p>

<p>ここで<code>ブックマークツールバー</code>以外のチェックを全て外します。
(もしくはメニューの表示から)</p>

<p>次にカスタマイズを選びツールバーをカスタマイズしていきます。
好きな物だけをブックマークツールバーの部分に持っていけば良いだけですが、
アドレスバーなんかもブックマークツールバーへ持っていけるので、
必要であればドラッグして持っていきます。</p>

<p><img src="/images/post/20130514_bookmarktoolbar_customize.jpg" alt="" title=""/></p>

<p><code>ナビゲーションバー</code>の方だけを残しても同じような事が出来ますが、
<code>ブックマークツールバー</code>の方が元々縦に短いのでよりすっきりします。</p>

<p>現在のブックマークツールバーに置いてあるのは</p>

<ul>
<li>アドレスバー: URLの打ち込み等には使わないがBookMarkされているかどうか(星)
とPocketに保存してあるかどうかを簡単に見るため(それ程重要でもないですが、
まあ、アドレスバーくらい残したい、と言うこともあり)</li>
<li>更新ボタン: 一応あるとマウス/トラックパッドで操作している時便利。
vimperatorを入れていれば、キーボードからは<code>r</code>/<code>R</code>でリロード出来ます。
(<code>R</code>だとchacheをスキップ)。勿論F5でもOKですが。
戻る、進むボタンも必要なら入れても良いと思います。
(こっちはショートカットやマウスジェスチャー等を使ってボタンはまず使わないので外してあります。)</li>
<li>Last Passボタン: パスワードを自動入力してくれるアドオンですが、
たまに機能をオフにして別のIDでログインしたりしたい時があるのですぐにアクセスする
ために。</li>
<li>Evernoteクリップボタン: <a href="https://addons.mozilla.org/ja/firefox/addon/evernote-web-clipper/">Evefnote Web Clipper</a>アドオンのボタンでEvernoteへクリップするために必要。
<a href="https://addons.mozilla.org/ja/firefox/addon/evernote-web-clipper/">Clearly</a>
も併用してますが、こちらは右クリックから行けるのでボタンは設置しません。</li>
<li>ブックマークルールバー: 特にブックマークレットのために必要。</li>
<li>ブックマーク: 直接ブックマークを開ける様に。特にWindowsでメニューバーを隠して
しまうと開くのに1段階余計にかかるようになるのでここへ。
vimperatorを使うとあまり直接開く機会はなくなりますが、
<a href="https://addons.mozilla.org/ja/firefox/addon/add-bookmark-here-2/">Add Bookmark Here</a>
と言うアドオンで、各フォルダを先に見ながらブックマークを入れられる様にしているので、
特にブックマークをする時に良くアクセスします。
ブックマークツールバーとブックマークはカスタマイズの項目で
ちょっとわかりにくいですが、下の絵にあるそれぞれ
左側がブックマークツールバー、右側がブックマークボタンです。</li>
</ul>


<p>ツールバー上:</p>

<p><img src="/images/post/20130514_bookmarkbuttons_toolbar.jpg" alt="" title=""/></p>

<p>カスタマイズのアイコン一覧の中:</p>

<p><img src="/images/post/20130514_bookmarkbuttons.jpg" alt="" title=""/></p>

<h1 id="ブックマークツールバーに入れるブックマーク">ブックマークツールバーに入れるブックマーク</h1>

<p>最後にブックマークツールバーに入れるブックマークについて。
上の画像でもちょこちょこ出ていますが、基本的にツールバーに入れる
ブックマークは全て<code>名前</code>を空欄にしています。
Favicon設定が無いページやブックマークレットについては
アルファベット1文字か2文字だけ入れる様にしています。</p>

<p>入れているものの例として</p>

<ul>
<li>Google関連:<a href="https://www.google.co.jp/">google</a>、<a href="http://www.google.co.jp/reader/view/#stream">Reader</a>、<a href="https://www.google.com/calendar/render?hl=ja">Calendar</a>、<a href="https://mail.google.com/tasks/canvas">Task</a>、<a href="http://translate.google.com/">翻訳</a></li>
<li><a href="http://www.feedly.com/home#latest">Feedly</a></li>
<li><a href="http://getpocket.com/a/queue/">Pocket</a></li>
</ul>


<p>などがブックマークで、ブックマークレットとしては</p>

<ul>
<li><a href="javascript:var%20b=document.body;var%20GR________bookmarklet_domain='http://www.google.co.jp';if(b&&!document.xmlVersion){void(z=document.createElement('script'));void(z.src='http://www.google.co.jp/reader/ui/subscribe-bookmarklet.js');void(b.appendChild(z));}else{location='http://www.google.com/reader/view/feed/'+encodeURIComponent(location.href)}">G: Google Readerへ登録</a></li>
<li><a href="javascript:void(d=document);void(el=d.getElementsByTagName('link'));void(g=false);for(i=0;i<el.length;i++){if(el[i].getAttribute('rel').indexOf('alternate')!=-1){ty=el[i].getAttribute('type');if(ty.indexOf('application/rss+xml')!=-1||ty.indexOf('text/xml')!=-1){g=true;h=el[i].getAttribute('href');void(location.href='http://www.feedly.com/home#subscription/feed/'+h);}}};if(!g){window.alert('Could%20not%20find%20the%20RSS%20Feed');};">F: Feedlyへ登録</a></li>
<li>P: Pocketへ追加 (Pocketの自分のページから追加出来ます。)</li>
<li><a href="javascript:(function()%20%7B%20var%20s%20=%20document.createElement(%22script%22);%20s.setAttribute(%22id%22,%20%22bitmark_js%22);%20s.setAttribute(%22type%22,%20%22text/javascript%22);%20s.setAttribute(%22src%22,%20%22//bitly.com/a/bitmarklet.js%22);%20(top.document.body%20%7C%7C%20top.document.getElementsByTagName(%22head%22)[0]).appendChild(s);%20%7D)();">B: BitlyでURL短縮</a></li>
<li><a href="javascript:var%20t=((window.getSelection&&window.getSelection())||(document.getSelection&&document.getSelection())||(document.selection&&document.selection.createRange&&document.selection.createRange().text));var%20e=(document.charset||document.characterSet);if(t!=''){location.href='http://translate.google.com/?text='+t+'&hl=ja&langpair=auto|ja&tbb=1&ie='+e;}else{location.href='http://translate.google.com/translate?u='+encodeURIComponent(location.href)+'&hl=ja&langpair=auto|ja&tbb=1&ie='+e;};">J: ページを日本語に翻訳</a></li>
<li><a href="javascript:var%20t=((window.getSelection&&window.getSelection())||(document.getSelection&&document.getSelection())||(document.selection&&document.selection.createRange&&document.selection.createRange().text));var%20e=(document.charset||document.characterSet);if(t!=''){location.href='http://translate.google.com/?text='+t+'&hl=ja&langpair=auto|en&tbb=1&ie='+e;}else{location.href='http://translate.google.com/translate?u='+encodeURIComponent(location.href)+'&hl=ja&langpair=auto|en&tbb=1&ie='+e;};">E: ページを英語に翻訳</a></li>
</ul>


<p>こんな感じです。
Google ReaderとFeedlyが重複してる感じですが、
移行期間、と言うことで、そのうちGoogle Readerの方は消します。</p>

<p>もし登録したい場合は上記のリンクをそのまま
ブックマークツールバーへドラックしても登録出来ます。</p>

<h1 id="実際の表示">実際の表示</h1>

<p>上記の設定で大体こんな感じになります。</p>

<p>Windows:</p>

<p><img src="/images/post/20130514_firefox_win.jpg" alt="" title=""/></p>

<p>Mac:</p>

<p><img src="/images/post/20130514_firefox_mac.jpg" alt="" title=""/></p>

<p>Windowsの方はTabs Always In Titlebarを使ってかなりスッキリしていると思います。
色具合とか、多少紹介してないvimperatorでの設定がありますが、
大体同じようになるはずです。</p>

<p>特に小さな画面のパソコンでは有用だと思いますし、
大きな画面でも余計な物は取っ払ってすっきりした方が快適に使えると思います。</p>

<p>間違ってもこんな感じのツールバーだらけにはしない様に...</p>

<p><img src="/images/post/20130514_Fullscreen.jpg" alt="" title=""/></p>

<blockquote><p>Ref: <a href="http://cybernetnews.com/cybernotes-200-firefox-extensions-installed-at-one-time/">CyberNotes: 200 Firefox Extensions Installed At One Time!</a></p></blockquote>

<p></p>

<hr />

<p></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Firefox/ThunderbirdでVim]]></title>
    <link href="http://rcmdnk.github.io/blog/2013/03/16/vim-firefox-thunderbird/"/>
    <updated>2013-03-16T17:22:00+01:00</updated>
    <id>http://rcmdnk.github.io/blog/2013/03/16/vim-firefox-thunderbird</id>
    <content type="html"><![CDATA[<p><img src="/images/WinApp/Firefox.png"  with="100" height="100" title="" alt="">
<img src="/images/WinApp/Thunderbird.png"  with="100" height="100" title="" alt=""></p>

<p>普段はVimをエディタとして使っていますが、
どうしてもエディタ以外の所で書き込みをしなくてはいけなかったり、
アプリケーションを動かすときにマウスか、最低でもカーソルキーを使わないと
いけないことがあります。</p>

<p>Vimで<code>hjkl</code>で移動できたりその他もろもろの部分に慣れているとどうしても
他の物が面倒になってしまうので、なんとかVimライクに使えるようにしたいものです。</p>

<p>今回は、簡単にVimを呼び出したりVimライクにできるFirefoxとThunderbirdでの方法です。
Vimのエディタ以外は、Macとかでも共通のお話です。</p>

<!-- more -->


<p><br class="clearBoth">

<h1>Contents</h1>
{:TOC}

<script type="text/javascript"><!--
google_ad_client = "ca-pub-3802317723662375";
/* imgRectMid */
google_ad_slot = "9043394444";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




</p>

<h1 id="FirefoxからのVimの呼び出し">FirefoxからのVimの呼び出し</h1>

<p>Firefoxには
<a href="https://addons.mozilla.org/ja/firefox/addon/its-all-text/?src=search">It's All Text!</a>
と言うアドオンがあり、
これに好きなエディタを設定することで、テキストエリアの入力を好きなエディタで行う事が出来ます。</p>

<p><img src="/images/post/20130317_installtext.jpg" alt="installtext"></p>


<p>この様に、gvimを指定しておきます。、</p>

<p><img src="/images/post/20130317_installtext_textarea.jpg" alt="installtext_textarea"></p>


<p>すると、テキストエリアにマウスを持って行くと右下に<code>編集</code>というマークが出るのでそれをクリックします。</p>

<p><img src="/images/post/20130317_installtext_gvim.jpg" alt="installtext_gvim"></p>


<p>gvimが立ち上がるので、適当に入力して、<code>:wq</code>などで、<code>保存して閉じる</code>をします。
そうするとgvimで入力した文字が</p>

<p><img src="/images/post/20130317_installtext_insert.jpg" alt="installtext_insert"></p>


<p>この様に入力されます。</p>

<p>このアドオンでは、まず、テキストエリアの内容を元に一時ファイルを作り、それが書き換えれる度に
テキストエリアを更新する、と言う手順をとっているようです。</p>

<p>従って、上記の状態で再び<code>編集</code>を押せば、<code>It's All Text</code>が既に書かれたファイルが開かれますし、
<code>:w</code>で保存する度にテキストエリアも更新されます。</p>

<p>gvimを立ち上げた状態でテキストエリアを直接編集することもできますが、その変更はgvim側には反映されず、
その後、gvimで保存を行うとそちらで上書きされます。</p>

<p>普通にエディタを立ち上げているわけなので、編集途中で他のファイルへバックアップとして書きだす事も可能です。</p>

<p>特に、webインターフェイスを使ったブログなどを書いてる人は便利だと思います。</p>

<h1 id="FirefoxでVimperator">FirefoxでVimperator</h1>

<p><a href="http://www.vimperator.org/vimperator">Vimperator</a>はFirefoxでの動きをvimライクにしてくれるアドオンです。
これには<a href="http://atnd.org/events/34070">Vimperator Advent Calendar 2012</a>も開催されているので詳細は省きますが、
簡単に</p>

<ul>
<li>Vim同様Normalモード等、モードがある。</li>
<li>Vimと同じ文法でmapping等が出来る。(同じように<code>_vimperatorrc</code>(Windowsでのデフォルト)というファイルを作り設定を行う。</li>
<li>Normalモードでは<code>h</code>、<code>j</code>、<code>k</code>、<code>l</code>、<code>C-d</code>、<code>C-u</code>、<code>C-f</code>、<code>C-b</code>などでページを移動できる。勿論<code>gg</code>や<code>G</code>でtopに行ったり一番下に行ったりも出来る。</li>
<li>TextエリアをクリックすればInsertモードになるが、<code>gi</code>としてもページにテキストエリアがあればInsertモードに入り、いずれかのテキストエリアにフォーカスする。(<code>i</code>はデフォルトでは<code>ignore key</code>として、直後の一回だけのキー入力をVimperatorを無視したものとして入力出来るようにする。)</li>
<li><code>Esc</code>もしくは<code>C-[</code>でNormalモードに帰る。</li>
<li><code>:</code>でCommandモードに入り、取り敢えず困ったらhelp</li>
<li><code>:open url</code>とすればurlが開けますし、<code>:open keyword</code>とすれば
<code>keyword</code>を引数に設定された検索エンジンで検索結果を出す。</li>
<li>また、<code>keyword</code>を入力していく段階で補間でき、その候補も閲覧履歴、検索履歴、ブックマーク、検索エンジンのサジェスト、等を設定できる。</li>
</ul>


<p><img src="/images/post/20130317_vimperator.jpg" alt="vimperator"></p>


<p>他にもhint機能やcaretモード等、vim同様夢が広がります。</p>

<p>また、上であった外部エディタを、Vimperatorから設定することも出来て、</p>

<pre><code>set editor="C:/Program\\\ Files/vim/gvim.exe -f"
"set editor="gvim.exe  -f--remove-tab-silent"
</code></pre>

<p>としておくと(pathは適当に変えて下さい)<code>c-i</code>でgvimが立ち上がります。
また、環境設定からvimディレクトリにpathを通しておけば2番目の様に
いきなり<code>gvim.exe</code>を書いてもOKです。</p>

<p>ヘルプにもforkさせないよう、<code>-f</code>オプションを使えと書いてあるのでつけておきます。
<code>--remote-tab-silent</code>を指定しておけば、既にgvimが立ち上がってる場合には
新しいタブとして開きます。</p>

<h1 id="ThunderbirdでVimの呼び出し">ThunderbirdでVimの呼び出し</h1>

<p>Thunderbirdからも<a href="http://globs.org/download.php?lng=en">External Editor</a>
というアドオンを使うとメールの編集にVimを使うことが出来ます。
FirefoxのIt's All Textと同様、設定項目にgvimを入れますが、<code>-f</code>オプションを
加えて置いて下さい。
これで、作成画面で<code>ツール</code>から<code>外部エディタで編集</code>を選ぶか<code>C-e</code>で
gvimがたちががります。</p>

<h1 id="ThunderbirdでMuttator">ThunderbirdでMuttator</h1>

<p><a href="http://www.vimperator.org/muttator">Muttator</a>は、vimperatorの
Thunderbird用として開発されたものですが、何度かチャレンジして
どうしても使い切れなかったので未だにまともにつかったことがありません…</p>
]]></content>
  </entry>
  
</feed>
