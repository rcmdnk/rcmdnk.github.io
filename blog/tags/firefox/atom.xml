<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: Firefox | rcmdnk's blog]]></title>
  <link href="https://rcmdnk.com/blog/tags/firefox/atom.xml" rel="self"/>
  <link href="https://rcmdnk.com/"/>
  <updated>2020-08-10T19:28:04+00:00</updated>
  <id>https://rcmdnk.com/</id>
  <author>
    <name><![CDATA[rcmdnk]]></name>
    <email><![CDATA[rcmdnk@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[ブラウザで'この接続ではプライバシーが保護されません'なサイトに直接アクセスする方法]]></title>
    <link href="https://rcmdnk.com/blog/2018/11/05/computer-windows-mac-chrome-firefox/"/>
    <updated>2018-11-05T00:00:00+00:00</updated>
    <id>https://rcmdnk.com/blog/2018/11/05/computer-windows-mac-chrome-firefox</id>
    <content type="html"><![CDATA[<p>WebサイトのHTTPS化が進んでいますが、サイトがオレオレ証明書などちゃんとした証明書を持っていない場合には
ブラウザが警告してきて簡単に見れないようになっています。</p>

<p>ちょっと手を動かせばよいのですが、テストに使うサイトだったりサイト側をきちんと把握している場合には
キャッシュが切れる毎に聞かれるのは非常に面倒です。</p>

<p>そんな場合において半永続的に直接見れる様に設定する方法について。</p>

<!-- more -->

<ul id="markdown-toc">
  <li><a href="#chromesafariedgeでのプライバシーエラー" id="markdown-toc-chromesafariedgeでのプライバシーエラー">Chrome/Safari/Edgeでのプライバシーエラー</a></li>
  <li><a href="#mac--chromeで証明書を信頼する" id="markdown-toc-mac--chromeで証明書を信頼する">Mac &amp; Chromeで証明書を信頼する</a></li>
  <li><a href="#windows--chromeedgeの場合" id="markdown-toc-windows--chromeedgeの場合">Windows &amp; Chrome/Edgeの場合</a>    <ul>
      <li><a href="#firefoxの場合" id="markdown-toc-firefoxの場合">Firefoxの場合</a></li>
      <li><a href="#まとめ" id="markdown-toc-まとめ">まとめ</a></li>
    </ul>
  </li>
</ul>
<div class="group"></div>

<div class="center_wrapper">
  <div>
  <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3802317723662375" data-ad-slot="5762198341"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  </div>
</div>

<h2 id="chromesafariedgeでのプライバシーエラー">Chrome/Safari/Edgeでのプライバシーエラー</h2>

<p>Chromeでそういった証明書がちゃんとしてないサイトを開くと、
<strong>この接続ではプライバシーが保護されません</strong>という警告が出ます。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_chromeprivacyerror.jpg" alt="chromeprivacyerror" class="pic" /></p>

<p>こんな感じの表示が出てきますが、下にある<strong>詳細情報</strong>をクリックすると
下の方に<strong>~にアクセスする(安全ではありません)</strong>と言ったリンクが出てくるのでこれをクリックすると表示することが出来ます。</p>

<p>また、Chromeの場合にはこのページが出てきたときに
<code>thisisunsafe</code>とキーボードから打つと同様に見ることが出来ます。
(Vim的なキーバインド設定のアドオンとかがあると上手くいかないかもしれないので上手く行かなかったらその辺り切って試してみてください。)
この文字列は以前は<code>badidea</code>、その前は<code>danger</code>とかだったらしいです。(またそのうち変わるかも。)</p>

<p>MacのSafariでも同様に
<strong>接続はプライベートではありません</strong>という警告がでます。
右下にある<strong>詳細を表示</strong>をクリックするとこんな感じの警告。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_safariprivacyerror.jpg" alt="safariprivacyerror" class="pic" /></p>

<p>こんな感じのページが出てきますがこれも下の方にある<strong>このWebサイトを閲覧</strong>というリンクをクリックすると
閲覧するかどうか聞かれるので<strong>Webサイトを閲覧</strong>とすれば見ることが出来ます。</p>

<p>WindowsのEdgeも同様に
<strong>このサイトは安全ではありません</strong>と出ます。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_edgeprivacyerror.jpg" alt="edgeprivacyerror" class="pic" /></p>

<p>こんな感じのページに行くので下の<strong>詳細</strong>を押して出てくる<strong>Webページへ移動(非推奨)</strong>をクリックして行きます。</p>

<p>ただしChromeやEdgeの場合には一時的に信頼するもので、
これらの手順はキャッシュが切れるとまた必要になり、よく見るサイトだと面倒です。</p>

<h2 id="mac--chromeで証明書を信頼する">Mac &amp; Chromeで証明書を信頼する</h2>

<p>そういったサイトも一応の証明書は提示してくるので、それを信頼するようにしてやれば
今後この様な警告なしに見れるようになります。</p>

<p>Mac &amp; Chromeでは以下の様な手順で証明書を信頼するようにすることが出来ます。</p>

<p>Chromeでこの様なサイトを開き、アドレスバーの<strong>保護されてない通信</strong>と出てる部分をクリックし、
<strong>証明書</strong>をクリックします。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_chromecert.jpg" alt="chromecert" class="pic" /></p>

<p>すると下の様なポップアップが出てきます。
このポップアップの左下にある青枠で囲まれている証明書の賞状みたいなやつを
ドラッグアンドドロップしてデスクトップやFinder上に持っていくと証明書ファイルが
手に入ります。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_finder.jpg" alt="finder" class="pic" /></p>

<p>これをダブルクリックすると追加するかどうか聞かれます。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_addcert.jpg" alt="addcert" class="pic" /></p>

<p>これで追加されたらキーチェーンを立ち上げてこの証明書を探します。</p>

<ul>
  <li>キーチェイン: ログイン</li>
  <li>分類: 証明書</li>
</ul>

<p>の所にあるはずですが、右上の検索窓から検索しても簡単に見つけられると思います。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_keychain.jpg" alt="keychain" class="pic" /></p>

<p>この証明書をダブルクリックすると<strong>信頼</strong>という項目があるのでそれをクリックして展開します。
すると<strong>この証明書を使用するとき:システムデフォルトを使用</strong>となっていて
以下のすべての値が<strong>値が指定されていません</strong>となっています。</p>

<p>この中で<strong>SSL (Secure Sockets Layer)</strong>の項目を<strong>常に信頼</strong>と変更します。
(もしくは<strong>この証明書を使用するとき</strong>という項目を変更するとすべて変更されます、が
実際に必要なのはSSLの設定だけなのでそれだけに抑えた方が良いです。)</p>

<p><img src="https://rcmdnk.com/images/post/20181105_trust.jpg" alt="trust" class="pic" /></p>

<p>これで証明書を信頼し、以降ブラウザで警告されないようになります。</p>

<p>これはSafariも共通の設定なので同じサイトをSafariで見ても警告されません。</p>

<p>と、実は逆にSafariで証明書を信用するようにしてもChromeでも信用されます。</p>

<p>実際、Safariで
<strong>Webサイトを閲覧</strong>とするとキーチェインの内容変更のためのパスワードが聞かれ、
キーチェインで確認すると上でやった様な作業が行われ
<strong>SSL</strong>が<strong>常に信頼</strong>の状態で証明書が登録されてることがわかります。</p>

<p>なので、長々とChromeの場合を説明しましたが、普段Chromeを使っていてもこういった事がある場合、
一旦Safariで開いて証明書を登録してしまったほうが上の手順よりも簡単で速いです。</p>

<h1 id="windows--chromeedgeの場合">Windows &amp; Chrome/Edgeの場合</h1>

<p>Windows版のChromeだと
<strong>保護されてない通信</strong><i class="fa fa-arrow-right"></i><strong>証明書</strong>をクリックすると
証明書の詳細プロファイルみたいのが出てきます。</p>

<p>このとき、一番右の<strong>証明のパス</strong>へ行くと通常いくつかのパスを通して証明書が発行されていることがわかります。
Macの場合はこの最後の証明書を信頼すればよかったのですが、
Windowsでは一番上にあるルート証明機関を信頼されたルート証明としてインポートする必要があります。
(信頼されてないと赤いバツじるしがついてるはず。)</p>

<p><img src="https://rcmdnk.com/images/post/20181105_wincertpath.jpg" alt="export" class="pic" /></p>

<p><strong>証明のパス</strong>で一番上の項目をクリックして<strong>証明書の表示</strong>をクリックすると、
同じ様なプロファイルが出てきますが、今度は<strong>証明のパス</strong>に行くと自分だけの一つだけになっているはずです。</p>

<p>これの<strong>詳細</strong>タブへ行くと<strong>ファイルにコピー</strong>という項目があるので
これをクリック。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_wincert.jpg" alt="export" class="pic" /></p>

<p>するとエキスポートウィザードみたいのが出てきますが、
途中の<strong>エクスポートファイルの形式</strong>では一番上の<strong>DER encoded binary X.509 (.CER) (D)</strong>を選択、
ファイル名は適当に<strong>abc</strong>とか付けるとダウンロードフォルダに<strong>abc.cert</strong>みたいなファイルが出来ます。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_export.jpg" alt="export" class="pic" /></p>

<p>Edgeの場合にはアドレスバーにある<strong>証明書エラー</strong>の部分をクリックすると
<strong>証明書の表示</strong>のリンクが出てくるのでこれを押すとブラウザの右側に証明書情報が出てきます。</p>

<p>ここでもいくつかのパスがあると上に複数表示されるのでこれの一番上をクリックして内容を表示。
その状態で
一番下に<strong>ファイルにエクスポート</strong>というのがあるのでそれをクリックすると
ダウンロードフォルダに証明書の名前の<strong>XXX.crt</strong>というファイルが出来ます。</p>

<p>これらで作った証明書をインストールするにはコルタナとかで<code>cert</code>と検索すると
<strong>このピュータ証明書の管理</strong>というものが出てくるのでそれを立ち上げます。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_cortana.jpg" alt="cortana" class="pic" /></p>

<p>出てきた設定アプリで左の一覧から<strong>信頼されたルート証明書</strong>を選択します。
次に<strong>表示</strong><i class="fa fa-arrow-right"></i><strong>カスタマイズ</strong>で<strong>操作ウィンドウにチェックを入れます。
すると右側に</strong>他の操作**とかが書かれた操作パネルが出てきます。
(メニュー下のアイコンの一番右をクリックしてもこれがトグル出来ます。)</p>

<p>ここで<strong>他の操作</strong><i class="fa fa-arrow-right"></i><strong>すべてのタスク</strong><i class="fa fa-arrow-right"></i><strong>インポート</strong>
とたどると証明書のインポートウィザードが始まるので先程作った証明書をインポートします。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_certconfig.jpg" alt="certconfig" class="pic" /></p>

<p>これでChromeでもEdgeでも直接表示できるようになります。</p>

<p>Chromeを使ってる場合には
<strong>設定</strong>で<strong>詳細設定</strong>を表示し、<strong>証明書の管理 (HTTPS/SSLの証明書と設定を管理します</strong>を開き、
でてきたウィンドウで<strong>信頼されたルート証明機関</strong>タブを選んで<strong>インポート</strong>することでも同じことが出来ます。(Windows全体の設定となります。)</p>

<p>証明書の設定後上手くいかない場合にはブラウザを再起動してみると上手く行くようになると思います。(特にChrome。)</p>

<h2 id="firefoxの場合">Firefoxの場合</h2>

<p>FirefoxはOSの証明書管理とは別に証明書を管理しています。
これはプロキシなどとも同様でFirefoxは基本OSとは別のものを使用、
ChromeはOSと共通のものを使用、という状態です。</p>

<ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail"><div class="amazon-img">
  <a href="//www.amazon.co.jp/gp/product/B00BEFTQWI?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN=B00BEFTQWI&amp;linkCode=shr&amp;tag=rcmdnk0c-22" rel="nofollow" target="_blank"><img src="https://images-na.ssl-images-amazon.com/images/I/41mrG3%2BDMjL._SS90_CR0,0,120,90_.jpg" alt="Proxy: An Avalon Novella (HarperTeen Impulse)" /></a>
</div></div><a class="click_box_link" href="https://rcmdnk.com/blog/2014/09/04/computer-remote/">特定のネットワーク内からしか見れないウェブページを外から見る方法</a></div></li></ul>

<p>なので上の設定を行ってもFirefoxに関係しませんし、Firefox側で設定してもChromeとかには影響しません。</p>

<p>また、Windows、Mac(Linuxも)同じ設定になります。</p>

<p>Firefoxでその様なサイトに行くと
<strong>安全な接続ではありません</strong>といった
以下のようなページになります。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_firefox1.jpg" alt="firefox1" class="pic" /></p>

<p>最初は下の部分はたたまれた状態ですが、<strong>エラー内容</strong>ボタンを押すと下の部分が出てきます。
ここで出てきた右下の<strong>例外を追加</strong>を押すと次の様なものが出てきます。</p>

<p><img src="https://rcmdnk.com/images/post/20181105_firefox2.jpg" alt="firefox2" class="pic" /></p>

<p>ここで<strong>次回移行もこの例外を有効にする</strong>をチェックしたまま<strong>セキュリティ例外を承認</strong>をクリック。
これでサイトが見れるようになり、次回からも直接見れる様になります。</p>

<h2 id="まとめ">まとめ</h2>

<p>以前はFirefoxメインだったので簡単に例外を追加でき半永久的にそのままスキップできてたのですが、
Chromeを使うようになって最近やたらとこういうのが繰り返しでるな、と思ってたので一度ちゃんと調べてみました。</p>

<p>MacならSafariを使えばFirefoxの様な感覚で追加出来ますが、
Windowsはちょっと面倒な方法しかありませんでした。</p>

<p>この辺の情報はChromeではOSが管理する情報になるのでSyncとかでも同期しないため
それぞれの端末で行う必要があるのも面倒なところ。</p>

<p>Firefoxもこの情報は同期されないようですがFirefoxの場合にはほぼワンステップで簡単なので。</p>

<p>ですが毎回毎回クリックして見れるようにするのも面倒なので
Windows+Chrome/Edgeの場合でも確実に信頼できるサイトについては
上記の登録をしておいたほうが楽です。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[wasavi: ブラウザの入力領域をVim化する拡張機能]]></title>
    <link href="https://rcmdnk.com/blog/2018/02/21/computer-vim-firefox-chrome/"/>
    <updated>2018-02-21T00:00:00+00:00</updated>
    <id>https://rcmdnk.com/blog/2018/02/21/computer-vim-firefox-chrome</id>
    <content type="html"><![CDATA[<p>VimmerにとってVim以外の環境で普通にテキストを書かされるのは 非常に辛いことですが、 それを解決する色々な方法が考えられています。</p>

<p>特にブラウザはマウスを使って操作する代表的なアプリだと思いますが、
そこでも入力欄でVim操作したり、ブラウザの操作自体をVim的にキーボードでしたりする
ために色々な拡張機能が作り出されています。</p>

<p>wasaviはそんなブラウザの入力欄をVim化してVimな編集を可能にしてくれるプラグインです。</p>

<!-- more -->

<ul id="markdown-toc">
  <li><a href="#wasavi" id="markdown-toc-wasavi">wasavi</a></li>
  <li><a href="#wasaviの使い方" id="markdown-toc-wasaviの使い方">wasaviの使い方</a></li>
  <li><a href="#設定" id="markdown-toc-設定">設定</a></li>
  <li><a href="#他のvim拡張機能との競合性" id="markdown-toc-他のvim拡張機能との競合性">他のVim拡張機能との競合性</a></li>
  <li><a href="#気になる点" id="markdown-toc-気になる点">気になる点</a></li>
  <li><a href="#まとめ" id="markdown-toc-まとめ">まとめ</a></li>
</ul>
<div class="group"></div>

<div class="center_wrapper">
  <div>
  <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3802317723662375" data-ad-slot="5762198341"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  </div>
</div>

<h2 id="wasavi">wasavi</h2>

<div class="github-widget" data-repo="akahuku/wasavi"></div>

<p>wasaviは
ブラウザの入力欄を一時的にVim化しVimな編集を可能にしてくれる
ブラウザの拡張機能です。</p>

<p>前回紹介したvim-anywhereの様に実際にVimを立ち上げるのではなく、
その場でVimをエミュレートしたものを作り出して編集する形なので
立ち上がりは早いです。</p>

<ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail">
  <a href="https://rcmdnk.com/blog/2018/02/20/computer-vim/"><img class="small-thumbnail-img" src="https://rcmdnk.com/images/post/20180220_vimanywhere.gif" width="120" height="90" alt="20180220_vimanywhere" /></a>
</div><a class="click_box_link" href="https://rcmdnk.com/blog/2018/02/20/computer-vim/">vim-anywhere: Mac/LinuxでどこでもVimを立ち上げてテキスト入力する</a></div></li></ul>

<p>素晴らしいことにChrome、Firefox、Operaに対応しているので
それらであればどれを使っていてもwasaviを使えます。</p>

<blockquote>
  <p><a href="https://chrome.google.com/webstore/detail/wasavi/dgogifpkoilgiofhhhodbodcfgomelhe">wasavi - Chrome ウェブストア</a></p>
</blockquote>

<blockquote>
  <p><a href="https://addons.opera.com/en/extensions/details/wasavi/">wasavi extension - Opera add-ons</a></p>
</blockquote>

<blockquote>
  <p><a href="https://github.com/akahuku/wasavi/raw/master/dist/wasavi.xpi">Latest and unstable version of wasavi for Firefox</a></p>
</blockquote>

<p>Firefoxに関してはFirefox Add-onsに登録されてないようですが、READMEにもある最新版のxpiをダウンロードして
Firefox上にドロップしてあげればインストールすることが出来ます<sup id="fninref:1"><a href="#fnin:1" rel="footnote">1</a></sup>。</p>

<p>作者は日本人の人らしく、日本語のドキュメントもあるので
分かりやすいと思います。</p>

<blockquote>
  <p><a href="http://appsweets.net/wasavi/">wasavi - appsweets akahuku labs.</a></p>
</blockquote>

<h2 id="wasaviの使い方">wasaviの使い方</h2>

<p>基本的な使い方は、ブラウザのTEXTAREAにフォーカスが当たってる
状態で<i class="key">Ctrl</i>-<i class="key">ENTER</i>を押します。</p>

<p>そうするとTEXTAREAがVimをエミュレートした状態に変化し、
Vimな操作で編集することが出来る様になります。</p>

<p>すでに書かれてる物があればそれもきちんと反映され編集できます。</p>

<p>通常は複数行に渡る様なテキストボックスで有効になる様になっていますが、
オプションで<code>input[type=search]</code>など有効にするなどTEXTAREAを変更することも可能です。</p>

<p>Gmail上などでも動いて
こんな感じで使えます。</p>

<p><img src="https://rcmdnk.com/images/post/20180221_wasavi.gif" alt="wasavi" class="pic" /></p>

<p>コマンドラインモードもあって、
<code>:q!&lt;ENTER&gt;</code>なら元の文字列をそのまま残す、
<code>:wq&lt;ENTER&gt;</code>なら編集後の状態を反映してwasaviを終了する、という状態になります。</p>

<h2 id="設定">設定</h2>

<p>オプションを開くと<code>exrc</code>と言う欄があってここに<strong>.vimrc</strong>みたいに<code>map</code>や<code>set</code>コマンドなどを書いておくことで
設定を反映することが出来ます。</p>

<p>初期設定だとビープ音が結構激しいので<code>set nolaunchbell</code>はしておいが方が良いと思います。</p>

<p>後は上にも書いた対象の要素の設定や
開始する時に使用するトリガーキーの設定(初期値は<i class="key">INSERT</i>と<i class="key">Ctrl</i>-<i class="key">ENTER</i>)、
除外するURLの設定などがあります。</p>

<p>また、Dropboxなどのオンラインストレージの選択項目もあり、
それらのストレージにあるファイルに直接wasaviから書き込んだり編集したり機能もついています。</p>

<h2 id="他のvim拡張機能との競合性">他のVim拡張機能との競合性</h2>

<p>READMEに書いてありますが、ブラウザ全体でVimライクな操作を出来るような拡張機能と
強豪がある場合もあるみたいで
Firefox + Keysnailなんかを使ってる場合には設定ファイルを設置する必要があるみたいです。</p>

<p>現在使ってる環境のChrome + cVimでは特に問題は無いようです。</p>

<ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail"><div class="amazon-img">
  <a href="//www.amazon.co.jp/gp/product/B00IE67ZSM?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN=B00IE67ZSM&amp;linkCode=shr&amp;tag=rcmdnk0c-22" rel="nofollow" target="_blank"><img src="https://images-na.ssl-images-amazon.com/images/I/3110x9TzbSL._SS90_CR0,0,120,90_.jpg" alt="【並行輸入品】Toshiba Chromebook CB35-A3120 PLM01U-002005 13.3-Inch Cloud Computer" /></a>
</div></div><a class="click_box_link" href="https://rcmdnk.com/blog/2014/10/22/computer-firefox/">cVim: Google ChromeのVimperatorみたいな拡張</a></div></li></ul>

<ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail">
  <a href="https://rcmdnk.com/blog/2017/11/18/computer-chrome/"><img class="small-thumbnail-img" src="https://rcmdnk.com/images/post/thumbnail/20171118_cvim_120_90.jpg" width="120" height="90" alt="20171118_cvim_120_90" /></a>
</div><a class="click_box_link" href="https://rcmdnk.com/blog/2017/11/18/computer-chrome/">Google ChromeでcVimの設定をアップデート</a></div></li></ul>

<h2 id="気になる点">気になる点</h2>

<p>Gmailでも使える、と書きましたが
現状バグ？があるみたいで、Gmailでwasaviを立ち上げて保存終了して
反映させると全ての空白行が消えてしまいます。</p>

<blockquote>
  <p><a href="https://github.com/akahuku/wasavi/issues/134">Gmail new/blank lines bug · Issue #134 · akahuku/wasavi</a></p>
</blockquote>

<p>これは元々あった空白行も消えるので、結構書いた後にwasaviを立ち上げると
空白行が消えて面倒なことになるので気をつけたほうが良いです。
(改行コードか何かの解釈に問題があるのか、
一度wasaviを終了してまた立ち上げると消えたはずの空白行が残ってたりしました。
そこで終了してGmailに戻るとやはり空白行は消えてしまうのですが。。。a)</p>

<p>EvernoteのWeb版でもwasaviは有効に出来ましたが同様に空白行が消える問題が起こりました。</p>

<p>また、Evernoteでは<i class="key">Ctrl</i>-<i class="key">Enter</i>が効きませんでしたが、
そういった場合にも他のショートカットキーを設定するか
右クリックからのメニューで<strong>wasaviで編集</strong>を選択すると
wasaviを立ち上げられます。</p>

<p>Gmailでもインストール直後とか時々使えなかったりしました。
(ちょっとどの様な条件なのかわからなかったですが。)</p>

<h2 id="まとめ">まとめ</h2>

<p>ブラウザの入力欄でも場合によっては結構な量を書くこともあるかと思います。</p>

<p>そういった場合にやはりVimで編集できるのは嬉しいことで、
wasaviを使えばその場でVimを使えます。</p>

<p>vim-anywhereや拡張機能でも入力欄から外部のVimを呼び出して編集する様なものもありますが、
別途アプリが必要だったり立ち上げるのに時間がかかったりするのがちょっと面倒です。</p>

<p>それに比べてwasaviであればその場で出来て素早く編集できます。</p>

<p>VimそのものではないためVimの全ての機能が使えるわけではありませんが、
基本的な移動操作は勿論、コマンドモードでの<code>:sort</code>や<code>:%s/foo/bar/</code>の様な置換なども
行えてノーマルなVim動作は一通り出来る様になっています。</p>

<p>さらにはChrome/Firefox/Operaと複数のブラウザに対応してるので
自分の好きなブラウザで使えるのも嬉しい所。</p>

<p>cVimやVimiumといった(今は亡きVimperator的な)ブラウザ操作をVimライクにするものとも
共存出来るので
wasaviを加えてより一層Vim感を増すことが可能になります。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Firefox Quantum 57リリース: Vimperatorは無事死亡]]></title>
    <link href="https://rcmdnk.com/blog/2017/11/15/computer-firefox/"/>
    <updated>2017-11-15T13:00:00+00:00</updated>
    <id>https://rcmdnk.com/blog/2017/11/15/computer-firefox</id>
    <content type="html"><![CDATA[<div class="amazon-img">
  <a href="//www.amazon.co.jp/gp/product/6134432512?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN=6134432512&amp;linkCode=shr&amp;tag=rcmdnk0c-22" rel="nofollow" target="_blank"><img src="https://images-na.ssl-images-amazon.com/images/I/41pP9qkUQrL._SS200_.jpg" alt="Vimperator" /></a>
</div>

<p>ついにFirefox Quantum 57がリリースされました。
11月14日リリースということでしたがアメリカ時間的なのか日本時間では昨夜にアップデート出来る様になったみたいです。</p>

<p>このリリースは<strong>Quantum</strong>と別名が付けられるほど大幅な変更が加えられ、メモリの管理などが上手くなり非常に高速になります。</p>

<p>一方、WebExtentionsでないアドオンが使えなくなるため多くのアドオンが使えなくなります。</p>

<!-- more -->

<ul id="markdown-toc">
  <li><a href="#firefox-quantum-57" id="markdown-toc-firefox-quantum-57">Firefox Quantum 57</a></li>
  <li><a href="#vimperator亡き後どうするか" id="markdown-toc-vimperator亡き後どうするか">Vimperator亡き後どうするか</a></li>
  <li><a href="#現状の使用状況" id="markdown-toc-現状の使用状況">現状の使用状況</a></li>
</ul>
<div class="group"></div>

<div class="center_wrapper">
  <div>
  <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3802317723662375" data-ad-slot="5762198341"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  </div>
</div>

<h2 id="firefox-quantum-57">Firefox Quantum 57</h2>

<blockquote>
  <p><a href="https://www.mozilla.org/en-US/firefox/57.0/releasenotes/">Firefox — Notes (57.0) — Mozilla</a></p>
</blockquote>

<blockquote>
  <p><a href="https://developer.mozilla.org/ja/Firefox/Releases/57">Firefox Quantum 57 for developers - Mozilla  MDN</a></p>
</blockquote>

<p>前回が9月28日だったので1ヶ月半ほどでのリリース。
このリリースは大幅な変更が入るためかなり前からこの時期に入ることがアナウンスされてましたが
ついに来てしまった感じです。</p>

<p>アップデートしてみて使った感想としては前にベータ版を使った時とそれほど変わりはありません。</p>

<ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail">
  <a href="https://rcmdnk.com/blog/2017/09/30/computer-firefox/"><img class="small-thumbnail-img" src="https://rcmdnk.com/images/post/thumbnail/20170930_quantumnewtab_120_90.jpg" width="120" height="90" alt="20170930_quantumnewtab_120_90" /></a>
</div><a class="click_box_link" href="https://rcmdnk.com/blog/2017/09/30/computer-firefox/">Firefox Quantum (57)をちょっと使ってみた感想</a></div></li></ul>

<p>見た目としてタブの表示とかがコンパクトになっていたりアドレスバーの両側に伸縮自在なスペースがあったり。
メニューの表示とかが変わったりしていますがそれ程混乱はないと思います。</p>

<p>アドオンのページではベータ版とは違って<strong>旧式の拡張機能</strong>という別ページに使えなくなった拡張機能一覧が移されていて、
そこに各アドオンに対して<strong>代わりのアドオンを探す</strong>というボタンが付いています。</p>

<p>該当のアドオンがあるとそのページに飛びます。(Mozillaが勝手に選択?)
マウスジェスチャを設定するFireGesturesはWebExtentions対応ではないのですが、これに対して
<a href="https://addons.mozilla.org/ja/firefox/addon/gesturefy/?src=find-replacement">Gesturefy</a>
というアドオンが紹介されています。
Windowsではマウスを使ってるのでマウスジェスチャ必須なんですが
このアドオンでもとりあえず基本的な事は出来ました。</p>

<p>Vimperatorには該当がないので一覧ページに飛んでしまいます。</p>

<h2 id="vimperator亡き後どうするか">Vimperator亡き後どうするか</h2>

<p>Firefoxを使う最大の理由がVimperatorがあるからだったわけですが、
このアドオンは現状WebExtentionsへの対応が出来る見込みはありません。</p>

<p>ということで代わりのアドオンを探して試したりしてました。</p>

<ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail">
  <a href="https://rcmdnk.com/blog/2017/10/20/computer-firefox-vimperator/"><img class="small-thumbnail-img" src="https://rcmdnk.com/images/post/thumbnail/20171020_vimium_120_90.jpg" width="120" height="90" alt="20171020_vimium_120_90" /></a>
</div><a class="click_box_link" href="https://rcmdnk.com/blog/2017/10/20/computer-firefox-vimperator/">Vimperator亡き後のためにVimium-FFを試してみる</a></div></li></ul>

<ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail"><div class="amazon-img">
  <a href="//www.amazon.co.jp/gp/product/B011QUSK04?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN=B011QUSK04&amp;linkCode=shr&amp;tag=rcmdnk0c-22" rel="nofollow" target="_blank"><img src="https://images-na.ssl-images-amazon.com/images/I/61Xx2McqhaL._SS90_CR0,0,120,90_.jpg" alt="牝狐の夏　夜逃げ若殿 捕物噺　: 11 (二見時代小説文庫) | 聖 龍人 | 日本の小説・文芸 | Kindleストア | Amazon" /></a>
</div></div><a class="click_box_link" href="https://rcmdnk.com/blog/2017/11/01/computer-firefox/">Vim Vixen: Vimperatorの代わりになるかもしれないアドオン</a></div></li></ul>

<p>もしくはChromeで似たような機能を求めるか。</p>

<ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail"><div class="amazon-img">
  <a href="//www.amazon.co.jp/gp/product/B00IE67ZSM?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN=B00IE67ZSM&amp;linkCode=shr&amp;tag=rcmdnk0c-22" rel="nofollow" target="_blank"><img src="https://images-na.ssl-images-amazon.com/images/I/3110x9TzbSL._SS90_CR0,0,120,90_.jpg" alt="【並行輸入品】Toshiba Chromebook CB35-A3120 PLM01U-002005 13.3-Inch Cloud Computer" /></a>
</div></div><a class="click_box_link" href="https://rcmdnk.com/blog/2014/10/22/computer-firefox/">cVim: Google ChromeのVimperatorみたいな拡張</a></div></li></ul>

<p>ただほとんどのこれらの拡張機能は単にキーボードショートカットを
Vim風にした、という程度です。
プラスHit-a-Hint機能があるくらい。</p>

<p><strong>コマンドモード</strong>モドキのものもありますが、
基本的にはアドレスバーにフォーカスするのと何ら変わらないものです。</p>

<p>Vimperatorの様な色々なコマンド機能や
拡張性がありません。</p>

<p>機能的な面に関してはWebExtentionsを使う際に
Firefoxの機能に対して触れる部分の制限がきついらしく、
例えば特定のページでの操作ができなかったりすることが各アドオンで共通だったりします。</p>

<p>なのである程度は仕方ない部分があるのですが
どうするか。</p>

<p>Vimperatorの方でも現状対応をがんばろう、というよりも
代替の方法をいくつか提案するようなことをしています。</p>

<blockquote>
  <p><a href="https://github.com/vimperator/vimperator-labs">vimperator/vimperator-labs: Vimperator</a></p>
</blockquote>

<p>Firefox版のcVimに加え、
<a href="https://github.com/cmcaine/tridactyl">tridactyl</a>
という新しいアドオンが紹介されています。</p>

<div class="postscript">
  <p><strong>追記: 2017/11/16 </strong></p>

  <p>ざっと使ってみた感じだとtridactylでは<code>open</code>コマンドとかで
補完が効きません。
それだとちょっと使えたもんではないです。</p>

  <p>まだベータ版なので今後に期待というところですが、
せいだいに他のアドオンを評価してる割には。。。といった感想。</p>

  <p><strong>追記ここまで</strong></p>
</div>

<p>まだちゃんと使ってませんが、書いて有ることだけ見ると他のアドオンの
足りない部分を踏まえた上で作ってます、という感じで期待は出来そう。</p>

<p>それ以外の方法としてはFirefoxの古いバージョンを使ったり、
<a href="https://www.waterfoxproject.org/">Waterfox</a>
というFirefoxの派生アプリでWebExtentionsでないアドオンもそのまま使えるものを使うという方法が紹介されています。</p>

<p>ただ、せっかくFirefox Quantumで色々性能が良くなったにも関わらず
その良さを使えないのは微妙な所です。
Waterfoxはもしかしたらそれらも取り入れて良い方向に進んでくれるかもしれませんが。</p>

<h2 id="現状の使用状況">現状の使用状況</h2>

<div class="postscript">
  <p><strong>追記: 2017/11/18 </strong></p>

  <p>Firefoxに固執する必要もないのでChromeでcVimを使うことにしました。</p>

  <ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail">
  <a href="https://rcmdnk.com/blog/2017/11/18/computer-chrome/"><img class="small-thumbnail-img" src="https://rcmdnk.com/images/post/thumbnail/20171118_cvim_120_90.jpg" width="120" height="90" alt="20171118_cvim_120_90" /></a>
</div><a class="click_box_link" href="https://rcmdnk.com/blog/2017/11/18/computer-chrome/">Google ChromeでcVimの設定をアップデート</a></div></li></ul>

  <p><strong>追記ここまで</strong></p>
</div>

<p>アドオンとしてはVimperatorの代わりにVim Vixenを入れています。
上で紹介したtridactylもちょっと試してみようとは思っています。</p>

<p>これらのどのプラグインでも空白ページや設定ページ、Mozilla関連などの一部ページだと
機能しなくなるので
Mac(Windows)での<i class="key">Command</i>(<i class="key">Control</i>)-<i class="key">L</i>を使った
ロケーションバーへのフォーカス、というショートカットキーを
覚えておくことが必須になりました。
後は普段は<i class="key">Control</i>-<i class="key">N</i>(<i class="key">P</i>)でタブの移動をしてましたが
これも(<i class="key">Shift</i>-)<i class="key">Control</i>-<i class="key">Tab</i>を使わなくてはいけない部分が出てきます。
タブを閉じたり開いたりする<i class="key">Command</i>(<i class="key">Control</i>)-<i class="key">W</i>、<i class="key">Command</i>(<i class="key">Control</i>)-<i class="key">T</i>、
も特定のページを開いてる際に必要です。</p>

<p>FireGesturesはMozillaお勧め?のGesturefyでいいかな、と思って使っています。</p>

<p>それ以外に使えなくなったプラグインとして
<a href="https://addons.mozilla.org/ja/firefox/addon/the-fox-only-better/?src=userprofile">Beyond Australis</a>
というブックマークツールバーとかを隠しておけるアドオンがありますがこれは代替がありません。
作者のホームページも最早リンク切れになっているという。
表示部分が大きくなるので結構便利なアドオンだったのですが。</p>

<p>他にもいくつかありますがVimperatorで出来なくなったことに比べると大分小さいので
まだ気になってません。
（一通り落ち着いたら気になって新しいのを探すでしょうが。)</p>

<p>同時にChromeに移っても良いかな、と思って時々つかっています。
ただ、cVimを入れてますが有効になるならないの設定がイマイチ不安定でそこがよく分かってません。</p>

<p>そんな感じで結局ここに来るまでに代替をちゃんと準備してなかったので
今後なんとなく使いながら上手いことやる方法を見つけていこうとしてる所です。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vim Vixen: Vimperatorの代わりになるかもしれないアドオン]]></title>
    <link href="https://rcmdnk.com/blog/2017/11/01/computer-firefox/"/>
    <updated>2017-11-01T00:00:00+00:00</updated>
    <id>https://rcmdnk.com/blog/2017/11/01/computer-firefox</id>
    <content type="html"><![CDATA[<div class="amazon-img">
  <a href="//www.amazon.co.jp/gp/product/B011QUSK04?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN=B011QUSK04&amp;linkCode=shr&amp;tag=rcmdnk0c-22" rel="nofollow" target="_blank"><img src="https://images-na.ssl-images-amazon.com/images/I/61Xx2McqhaL._SS200_.jpg" alt="牝狐の夏　夜逃げ若殿 捕物噺　: 11 (二見時代小説文庫) | 聖 龍人 | 日本の小説・文芸 | Kindleストア | Amazon" /></a>
</div>

<p>Firefox 57のリリースまで後2週間ほどとなり、
WebExtensionsを使ってない拡張機能の寿命が迫っています。</p>

<p>Vimperatorもそのうちの1つで、Vimperator自体が対応するのはどうやら難しそうな状況で
色々探してますが
最近出来たvim Vixenが代わりになる可能性を見せています。</p>

<!-- more -->

<ul id="markdown-toc">
  <li><a href="#vim-vixen" id="markdown-toc-vim-vixen">Vim Vixen</a></li>
  <li><a href="#コマンドモード" id="markdown-toc-コマンドモード">コマンドモード</a></li>
  <li><a href="#現在のurlが予め入力されたopen" id="markdown-toc-現在のurlが予め入力されたopen">現在のURLが予め入力されたopen</a></li>
  <li><a href="#設定" id="markdown-toc-設定">設定</a></li>
  <li><a href="#特定のページで操作が効かない" id="markdown-toc-特定のページで操作が効かない">特定のページで操作が効かない</a></li>
  <li><a href="#まとめ" id="markdown-toc-まとめ">まとめ</a></li>
</ul>
<div class="group"></div>

<div class="center_wrapper">
  <div>
  <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3802317723662375" data-ad-slot="5762198341"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  </div>
</div>

<h2 id="vim-vixen">Vim Vixen</h2>

<div class="github-widget" data-repo="ueokande/vim-vixen"></div>

<blockquote>
  <p><a href="https://addons.mozilla.org/en-US/firefox/addon/vim-vixen/">Vim Vixen :: Add-ons for Firefox</a></p>
</blockquote>

<blockquote>
  <p><a href="https://i-beam.org/2017/10/19/release-vim-vixen/">Vim Vixenというプラグインを作りました。 - Folioscope</a></p>
</blockquote>

<p>Vim VixenはFirefox上でVimライクな動作を可能にしてくれるプラグインで
<i class="key">J</i>/<i class="key">K</i>での上下移動などの基本的な動作や
Hit-a-Hintの機能などが実装されています。</p>

<h2 id="コマンドモード">コマンドモード</h2>

<p>他のVim系アドオンとの決定的な違いは
コマンドモードがあることです。</p>

<ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail">
  <a href="https://rcmdnk.com/blog/2017/10/20/computer-firefox-vimperator/"><img class="small-thumbnail-img" src="https://rcmdnk.com/images/post/thumbnail/20171020_vimium_120_90.jpg" width="120" height="90" alt="20171020_vimium_120_90" /></a>
</div><a class="click_box_link" href="https://rcmdnk.com/blog/2017/10/20/computer-firefox-vimperator/">Vimperator亡き後のためにVimium-FFを試してみる</a></div></li></ul>

<p>色々とVim系のアドオンはありますが、Chromeのものを含め、
これまでにVimperatorの様なコマンドモードがあるものはありませんでした。</p>

<p><i class="key">O</i>とかでコンソール窓的なのを開いてURLへ移動したり検索結果を出したりすることは出来ますが
これはアドレスバーへ入力するのと何ら変わりません。
(ならアドレスバーを直接使えば良いじゃん、とも思うのですが、どうもアドレスバーをフォーカスすることはアドオンからは難しいので無駄に別コンソールを実装する必要がある?)</p>

<p>Vim Vixenでは
こんな感じでVimperatorちっくなコマンドモードが実装されています。</p>

<p><img src="https://rcmdnk.com/images/post/20171101_vixen.jpg" alt="vixen" class="pic" /></p>

<p>ただし、現状あるコマンドは<code>open</code>、<code>tabopen</code>、<code>winopen</code>、<code>buffer</code>
だけなので<code>buffer</code>という現在開いているタブから選択するという機能は他には無いものではありますが
基本的には出来る事は他のものと余り代わりありません。</p>

<p>ただ機能的にはここに他の動作を行うコマンドも実装は可能な感じなので期待してます。</p>

<h2 id="現在のurlが予め入力されたopen">現在のURLが予め入力されたopen</h2>

<p>これらのコマンドに関連して、<i class="key">O</i>で<code>open</code>コマンドへの引数の入力状態になりますが、
<i class="key">Shift</i>-<i class="key">O</i>を押すと現在のページのURLが入力された状態で
<code>open</code>コマンドの編集を始める事が出来ます。</p>

<p>これは個人的には画期的なものです。
今までVimperatorでも
同じサイトのちょっと違うページを見たい時、閲覧履歴に残っている所から探すのに
そのサイトのトップディレクトリを入力すると補完候補でそのサイトのページが色々出てくるので</p>

<ul>
  <li>現在のページのURLをコピー(<i class="key">Y</i>)</li>
  <li><code>open</code>コマンド開始(<i class="key">O</i>)</li>
  <li><i class="key">Control</i>-<i class="key">V</i>で現在のURLをペースト</li>
</ul>

<p>してから編集、みたいなことをしていました。
これを<i class="key">Shift</i>-<i class="key">O</i>だけで出来る様になります。
(同様に新しいタブに開きたいなら<i class="key">Shift</i>-<i class="key">T</i>。)</p>

<h2 id="設定">設定</h2>

<p>キー設定などは拡張機能のページからVim Vixenのページに行くと
<strong>Configure Vim-Vixen</strong>という欄があって
そこにJSON形式で</p>

<pre><code>"o": { "type": "command.show.open", "alter": false },
</code></pre>

<p>といった感じに書いていく様になっています。</p>

<p>デフォルトのキーも全て載っているのでデフォルトの設定で消したい場合は
ここから削除すればOKな模様。</p>

<p>が、ちょっと以下のような設定を追加してみたんですが</p>

<pre><code>";": { "type": "command.show" },
"&lt;C-p&gt;": { "type": "tabs.prev", "count": 1 },
"&lt;C-n&gt;": { "type": "tabs.next", "count": 1 },
"&lt;C-o&gt;": { "type": "navigate.history.prev" },
"&lt;C-i&gt;": { "type": "navigate.history.next" },
</code></pre>

<p>最初の<code>;</code>以外の設定が上手く動作しませんでした。
そんなIssuesも無いようなので何か間違えてるのか。</p>

<p>まだリリースはされてませんが、
GUIな設定も開発を行っている様です。</p>

<blockquote>
  <p><a href="https://github.com/ueokande/vim-vixen/issues/26">GUI settings · Issue #26 · ueokande/vim-vixen</a></p>
</blockquote>

<h2 id="特定のページで操作が効かない">特定のページで操作が効かない</h2>

<p>Vimium-FFでもそうでしたが
空白ページやFirefoxのアドオンのページでは操作が効きません。</p>

<p>どうもWebExtensionsにするとこの辺避けられない制限? (JavaScriptが動かない?)</p>

<h2 id="まとめ">まとめ</h2>

<p>Vimperator亡き後のアドオンですが
これまでChromeに移ってcVim、というのが一番の候補でしたが
Vim Vixenもかなり可能性を感じます。
まだ出来たばかりなので更新も続々とありそうです。</p>

<p>後2週間ですが、さてどうしたもんでしょうか。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vimperator亡き後のためにVimium-FFを試してみる]]></title>
    <link href="https://rcmdnk.com/blog/2017/10/20/computer-firefox-vimperator/"/>
    <updated>2017-10-20T00:00:00+00:00</updated>
    <id>https://rcmdnk.com/blog/2017/10/20/computer-firefox-vimperator</id>
    <content type="html"><![CDATA[<p>Firefox 57 (Quantum)のリリース予定(11/14)まで後1ヶ月を切りました。
57からはWebExtensionsベースではない旧式のアドオンが
使えなくなります。</p>

<p>一ヶ月前の今でも対応してないアドオンはたくさんあり、
いくつかのアドオンについては既に作者の人が
対応する予定は無い、と言い切っているものもあります。</p>

<p>そんな中、Firefoxを使う一番の理由であるVimperatorも旧式で
対応しようとはしているものの少なくとも11/14までには間に合いそうもありません。</p>

<p>ということでとりあえず現状代わりになりそうなものを探して
ちょっと試してみました。</p>

<!-- more -->

<ul id="markdown-toc">
  <li><a href="#vimium-ff" id="markdown-toc-vimium-ff">Vimium-FF</a></li>
  <li><a href="#vimperatorっぽくしてみる" id="markdown-toc-vimperatorっぽくしてみる">Vimperatorっぽくしてみる</a></li>
  <li><a href="#現状での問題点" id="markdown-toc-現状での問題点">現状での問題点</a></li>
  <li><a href="#vimiumでは出来ないvimperatorの動作" id="markdown-toc-vimiumでは出来ないvimperatorの動作">Vimiumでは出来ないVimperatorの動作</a></li>
  <li><a href="#他の候補" id="markdown-toc-他の候補">他の候補</a></li>
  <li><a href="#chromeなら" id="markdown-toc-chromeなら">Chromeなら</a></li>
  <li><a href="#まとめ" id="markdown-toc-まとめ">まとめ</a></li>
</ul>
<div class="group"></div>

<div class="center_wrapper">
  <div>
  <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3802317723662375" data-ad-slot="5762198341"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  </div>
</div>

<h2 id="vimium-ff">Vimium-FF</h2>

<div class="github-widget" data-repo="philc/vimium"></div>

<blockquote>
  <p><a href="https://addons.mozilla.org/en-GB/firefox/addon/vimium-ff/">Vimium-FF :: Add-ons for Firefox</a></p>
</blockquote>

<p>VimiumはもともとGoogle Chrome用の拡張機能として開発されたものですが、
最近Firefoxでも使えるバージョンを出しました。(多分Vimperatorが使えなくなるのを見越した対応。)
WebExtensionsにも対応済です。</p>

<p>基本的な使い方はChrome版、Firefox版共通で、
キー設定などはアドオンの設定画面にある<strong>Custom key mappings</strong>に書き込むことで
変更が出来ます。</p>

<p><img src="https://rcmdnk.com/images/post/20171020_vimiumsettings.jpg" alt="vimiumsettings" class="pic" /></p>

<p>この欄の右側にある<strong>Show available commands</strong>を押すと設定一覧が出てきます。
さらに右下にある<strong>Show advanced commands</strong>を押すと隠れている設定も出てきます。</p>

<p><img src="https://rcmdnk.com/images/post/20171020_vimiumcommands.jpg" alt="20171020_vimiumcommands.jpg" class="pic" /></p>

<p>この一覧の中の括弧()内にあるのがコマンドで、
これをキーにマッピングすることで動作を設定できます。</p>

<pre><code>map d removeTab
map &lt;c-j&gt; scrollDown
</code></pre>

<p>とか。
Controlを書く時に<code>&lt;&gt;</code>で囲って<code>c-</code>で書きますが、
<code>c</code>は大文字でも小文字でも大丈夫な様子。</p>

<p>Alt(Command)を使いたい場合は<code>a-</code>と書くみたいですがMacでは上手く効きませんでした(Chromeでも)。</p>

<p><a href="https://github.com/philc/vimium/wiki/Visual-Mode">Visual Mode</a>とかも一応設定がありますが
マップに関しては<code>map</code>のみで設定します。
設定を削除したい場合には<code>unmap d</code>とか。
全ての設定を一度削除したい場合には<code>unmapAll</code>が使えます。</p>

<p>VimiumはVimperatorに比べると単純な操作のキーマッピングだけをしているようなかんじですが、
Hit-a-Hintの機能が使えるのが1つ嬉しいところかと。</p>

<h2 id="vimperatorっぽくしてみる">Vimperatorっぽくしてみる</h2>

<p>差し当たりVimperatorの動作と違うキー設定になってて引っかかった部分が多かったので
出来る部分だけでもVimperatorっぽくした設定がこちら。</p>

<pre><code>map &lt;c-f&gt; scrollPageDown count=2
map &lt;c-b&gt; scrollPageUp count=2
map y copyCurrentUrl
map &lt;c-g&gt; openCopiedUrlInNewTab
map F LinkHints.activateModeToOpenInNewForegroundTab
map t Vomnibar.activateInNewTab
map &lt;c-o&gt; goBack
map &lt;c-i&gt; goForward
map d removeTab
map u restoreTab
map &lt;c-p&gt; previousTab
map &lt;c-n&gt; nextTab
</code></pre>

<p><code>scrollPageDown</code>は半ページだけ動く様な動作だったので
1ページ動く様に<code>count=2</code>を追加。
この様に後ろに<code>count=&lt;n&gt;</code>を入れるとn回繰り返して行います。</p>

<h2 id="現状での問題点">現状での問題点</h2>

<p>こんな設定でやってみましたがいくつか出来ないことが。</p>

<ul>
  <li><code>copyCurrentUrl</code>が効かない(Firefoxのみ)。
    <ul>
      <li><code>Yanked ...</code>みたいなメッセージが右下に出るにも関わらずクリップボードに入ってない。</li>
    </ul>
  </li>
  <li><code>openCopiedUrlInNewTab</code>の動作がおかしい(Firefoxのみ)。
    <ul>
      <li>クリップボードにURLがあっても単に空白ページが新しく出来る。</li>
    </ul>
  </li>
  <li>特定のページで操作が効かない。
    <ul>
      <li>設定ページなどではVimperatorも効かないので仕方がない部分はある。</li>
      <li>ただし、空白ページ(about:blank)等でも効かない。
        <ul>
          <li>空白ページを作ってからとか全てのタブを削除していって残った空白ページで<code>o</code>で開く、とかが出来ない。</li>
        </ul>
      </li>
      <li>ページごとに設定を無効化する設定があるがそれを全て無くしても特定のページで操作できない。
        <ul>
          <li>Firefox Addon、Chromeの拡張のページなどで効かない。</li>
          <li>さらに何故かFeedlyのページでも効かない(Firefoxのみ)。
            <ul>
              <li>Gmailのページでは設定しなければ効く。</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><code>o</code>などで開くページのURLの書き換えが出来ない。</li>
  <li>検索の動作が不安定(Firefox)。
    <ul>
      <li>検索ワードを入力する時に、特に日本語を入力すると変なタイミングで一部だけ変換されたりする。</li>
      <li>たまに検索しようとしても文字が入力できない時がある。</li>
    </ul>
  </li>
  <li><code>&lt;RETURN&gt;</code>をマップできない。</li>
</ul>

<p>と言った感じがとりあえずの感想。</p>

<p>URLの書き換えが出来ない、というのはChromeだと<code>o</code>を押すと</p>

<p><img src="https://rcmdnk.com/images/post/20171020_vimiumfirefox.jpg" alt="20171020_vimiumfirefox.jpg" class="pic" /></p>

<p>こんな感じで画面の真ん中情報に書き込み欄が出てきて補完候補が出ますが、
候補を<i class="key">Tab</i>で選んでも書き込み欄には反映されません。
選んだ状態で<i class="key">Return</i>を押せばそのURLに飛ぶことが出来ますが、
<i class="key">Delete</i>とかを押すと最初に書き込んだ文字列が消されるだけです。</p>

<p>Vimperatorや下に書くChromeの拡張のcVimだと</p>

<p><img src="https://rcmdnk.com/images/post/20171020_vimiumchrome.jpg" alt="20171020_vimiumchrome.jpg" class="pic" /></p>

<p>こんな感じで補完候補を<i class="key">Tab</i>で候補を選択した時、選択行にあるものが書き込み欄に入ります。
この状態から<i class="key">Delete</i>したり文字を入力してURLを改変することが可能です。</p>

<p>Firefoxのみで上手く言ってない操作に関しては今後のアップデートで
治る可能性もありますが、
両者で出来ない機能、というのはそもそもそういう動作を目指してなかったりすることもあるかもしれないので
そのままの可能性が高いです。</p>

<h2 id="vimiumでは出来ないvimperatorの動作">Vimiumでは出来ないVimperatorの動作</h2>

<p>まあ沢山あるわけですが、差し当たり</p>

<ul>
  <li><code>qmark</code>機能が使えない
    <ul>
      <li><code>silent qmark m https://mail.google.com</code>みたいな設定をしておいて</li>
      <li><code>gom</code>と押すとGmailのページに行ける機能。(<code>gnm</code>なら新しいタブに開く。)</li>
    </ul>
  </li>
  <li><code>multi_requester.js</code>が使えない。
    <ul>
      <li>辞書ページなどにキーワードを与えてその結果をオーバーレイで表示してくれる拡張機能。</li>
    </ul>
  </li>
  <li><code>copy.js</code>が使えない。
    <ul>
      <li>JavaScriptなどでページの情報を取ってきてクリップボードに入れてくれる機能。</li>
      <li>ブックマークレット代わりに使える。(<code>qmark</code>と違ってクリップボードに直接値を入れたい時に便利。)</li>
    </ul>
  </li>
  <li>コマンドが使えない。
    <ul>
      <li><code>restart</code>とか色々。</li>
    </ul>
  </li>
</ul>

<p>などなど。</p>

<p>Vimiumで出来ることはHit-a-Hintを除いて
すべて通常のFirefoxのキーボードショートカットを変更すれば出来ることです。</p>

<p><code>open</code>コマンド等もアドレスバーにフォーカスを当てれば良いだけ。</p>

<ul>
  <li>Mac: <i class="key">Command</i>-<i class="key">L</i>もしくは<i class="key">F6</i></li>
  <li>Windows: <i class="key">Control</i>-<i class="key">L</i>もしくは<i class="key">Alt</i>-<i class="key">D</i>または<i class="key">F6</i></li>
</ul>

<p>他の移動操作などは簡単な割当で出来ます。
なのでMacならKarabiner-Elements、WindowsならAutoHotkeyと言った外部アプリを使って
当てはめる事も可能です。</p>

<ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail">
  <a href="https://rcmdnk.com/blog/2017/09/05/computer-mac-karabiner-vim/"><img class="small-thumbnail-img" src="https://rcmdnk.com/images/post/thumbnail/20170905_vimemu_120_90.jpg" width="120" height="90" alt="20170905_vimemu_120_90" /></a>
</div><a class="click_box_link" href="https://rcmdnk.com/blog/2017/09/05/computer-mac-karabiner-vim/">Vim以外でVimする: Mac+Karabiner-Elements編</a></div></li></ul>

<ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail">
  <a href="https://rcmdnk.com/blog/2013/08/03/computer-windows-autohotkey/"><img class="small-thumbnail-img" src="https://rcmdnk.com/images/post/thumbnail/20130723_AutoHotKey_120_90.jpg" width="120" height="90" alt="20130723_AutoHotKey_120_90" /></a>
</div><a class="click_box_link" href="https://rcmdnk.com/blog/2013/08/03/computer-windows-autohotkey/">Vim以外でVimする: Windows+AutoHotkey編</a></div></li></ul>

<p>これらを使えば空白ページや設定ページでも動作を当てる事が可能なのでむしろ便利にできそうです。</p>

<p><code>qmarks</code>の機能なども実装しようと思えば出来ると思います。</p>

<p>出来ないのはHit-a-Hintの機能で、現状これだけを出来るアドオンというのもないので
とりあえずVimiumを入れてこの機能だけ使う、というのもありかもしれません。</p>

<h2 id="他の候補">他の候補</h2>

<p><a href="https://addons.mozilla.org/ja/firefox/addon/saka-key/">Saka Key</a>
というアドオンが色々と設定できるアドオンとして候補になると思います。</p>

<blockquote>
  <p><a href="https://key.saka.io/">Introduction · Saka Key Handbook</a></p>
</blockquote>

<blockquote>
  <p><a href="https://github.com/lusakasa/saka-key">lusakasa/saka-key: A keyboard interface to the web</a></p>
</blockquote>

<p>こちらもWebExtensionsに対応済です。
また、このアドオンもChromeの拡張機能としても使える様になっています。</p>

<p>Hit-a-Hintとかが使え、ページ移動などの一通りの事は出来ますが、
現状openコマンド的な事が出来ません。</p>

<blockquote>
  <p><a href="https://github.com/lusakasa/saka-key/issues/36">Key command to focus omnibar · Issue #36 · lusakasa/saka-key</a></p>
</blockquote>

<p>通常のショートカットキーで出来るので簡単にできそうなものですが何やら難しいようです。
他のアドオンとかでは見た目的に敢えて独自の入力欄を作っているんだと思ってましたが、
実は技術的な理由でアドレスバーにフォーカスすることがアドオンの中では出来ないから
作らざるを得ない状況があるようです。</p>

<p>ドキュメントには<code>Commands</code>という項目があってJavaScriptを使って
色々書いていけそうな雰囲気はありますが
少なくとも通常の設定画面からどうこう出来る様なものではないみたいです。</p>

<p>ということで使い勝手という点では今のところVimiumからopenコマンドを引いた感じなのでちょっと難しいです。</p>

<p>それ以外だと
<a href="https://addons.mozilla.org/ja/firefox/addon/vimfx/">VimFx</a>
というアドオンもあって、一時期Vimperatorが使えなくなっていた頃にちょっと代替え用として出てきてましたが
残念ながらこのアドオンもWebExtensionsには対応してないので57以降は使えなくなります。</p>

<div class="postscript">
  <p><strong>追記: 2017/11/01 </strong></p>

  <p>Firefoxで有望そうな新たしいアドオンが出てきました。</p>

  <ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail"><div class="amazon-img">
  <a href="//www.amazon.co.jp/gp/product/B011QUSK04" rel="nofollow" target="_blank"><img src="https://images-na.ssl-images-amazon.com/images/I/61Xx2McqhaL._SS90_CR0,0,120,90_.jpg" alt="牝狐の夏　夜逃げ若殿 捕物噺　: 11 (二見時代小説文庫) | 聖 龍人 | 日本の小説・文芸 | Kindleストア | Amazon" /></a>
</div>
</div><a class="click_box_link" href="https://rcmdnk.com/blog/2017/11/01/computer-firefox/">Vim Vixen: Vimperatorの代わりになるかもしれないアドオン</a></div></li></ul>

  <p><strong>追記ここまで</strong></p>
</div>

<h2 id="chromeなら">Chromeなら</h2>

<p>ChromeであればVimiumの他にcVimという拡張機能があります。</p>

<ul class="post_card"><li class="index_click_box"><div class="group"><div class="title-small-thumbnail"><div class="amazon-img">
  <a href="//www.amazon.co.jp/gp/product/B00IE67ZSM?ie=UTF8&amp;camp=1207&amp;creative=8411&amp;creativeASIN=B00IE67ZSM&amp;linkCode=shr&amp;tag=rcmdnk0c-22" rel="nofollow" target="_blank"><img src="https://images-na.ssl-images-amazon.com/images/I/3110x9TzbSL._SS90_CR0,0,120,90_.jpg" alt="【並行輸入品】Toshiba Chromebook CB35-A3120 PLM01U-002005 13.3-Inch Cloud Computer" /></a>
</div></div><a class="click_box_link" href="https://rcmdnk.com/blog/2014/10/22/computer-firefox/">cVim: Google ChromeのVimperatorみたいな拡張</a></div></li></ul>

<p>こちらはHit-a-Hintは勿論、<code>qmarks</code>の機能も持っています。</p>

<p>上にも書いたとおりopenコマンドなどでの操作も便利になっています。</p>

<p>また、設定ファイルの書き方がよりVimっぽくなっていてやりやすいです。</p>

<p>あと、ちょっと今触ってみて気づいたところだと、新しいタブを開く、をURL無しな状態でcVimでやると
cVimが作った特殊な新しい空白ページを開き、そのページ上だとcVimは有効になります。
(通常の空白ページではVimium同様操舵できない。)</p>

<ul>
  <li><a href="https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb">Vimium - Chrome ウェブストア</a>: ユーザー262517人
    <ul>
      <li><a href="https://github.com/philc/vimium">GitHub - philc/vimium: The hacker’s browser.</a></li>
    </ul>
  </li>
  <li><a href="https://chrome.google.com/webstore/detail/cvim/ihlenndgcmojhcghmfjfneahoeklbjjh?hl=ja">cVim - Chrome ウェブストア</a>: ユーザー27223人
    <ul>
      <li><a href="https://github.com/1995eaton/chromium-vim">GitHub - 1995eaton/chromium-vim: Vim bindings for Google Chrome.</a></li>
    </ul>
  </li>
</ul>

<p>Chromeストアで見てみるとVimiumの方が一桁ユーザー数が多いみたいですが、
レビューを見てると前までcVimの方が結構不安定だったのかな、といった感じです。
GitHubのスターでもVimiumの方が数倍多くなっています。</p>

<p>ただ、最近のレビューではVimiumから移った、という人も結構居てcVimの方が良さそうに見えます。</p>

<p>実際に出来ることは圧倒的にcVimの方が多いですし、上にも書いたとおりVimiumは単位ショートカットキー設定をしているに過ぎない程度なので
使うのであればcVimでないと意味が無いかな、という感じすらします。</p>

<p>また、両者ともにGitHubを見ていると最近も結構アクティブに更新しているみたいなので
今後の進化も見ておく必要があるとは思います。</p>

<h2 id="まとめ">まとめ</h2>

<p>色々見てみればみるほど厳しい現実が待っている感じです。</p>

<p>なるべく現状に近い形で使い続けたいのであれば、
Chromeに移ってcVimを使う、というのが一番簡単に出来る事になりそうです。</p>

<p>ただ、Firefox 57でせっかくFirefoxが速くなるのにそのタイミングで移るのもなんか悔しい感じもします。
アドオンとかは作ったことが無いのでどうしたもんだか分からないのですが
Karabiner-ElementsやAutoHotkeyを使って<code>qmarks</code>とかの機能を含めた動作をある程度再現することは出来るかと思いますが、
Hit-a-Hintは別途必要なのでとりあえずVimiumを入れるとか。</p>

<p>困った。</p>
]]></content>
  </entry>
  
</feed>
